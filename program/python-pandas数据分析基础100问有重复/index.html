<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>Python pandas数据分析基础100问(有重复) - 樊刹</title><meta name="author" content="richfan">
<meta name="author-link" content="https://richfan.site/">
<meta name="description" content="题目来自B站上看的一个讲爬虫的老师发的视频，不过代码没完全照那人的来，由于在平板上写的代码，就没有执行结果，感兴趣自行到B站搜原视频。 1 import pandas" /><meta name="keywords" content='pandas' /><meta itemprop="name" content="Python pandas数据分析基础100问(有重复)">
<meta itemprop="description" content="题目来自B站上看的一个讲爬虫的老师发的视频，不过代码没完全照那人的来，由于在平板上写的代码，就没有执行结果，感兴趣自行到B站搜原视频。 1 import pandas"><meta itemprop="datePublished" content="2023-09-25T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-09-25T00:00:00+00:00" />
<meta itemprop="wordCount" content="8828"><meta itemprop="image" content="http://richfan.site/favicon.svg"/>
<meta itemprop="keywords" content="pandas," /><meta property="og:title" content="Python pandas数据分析基础100问(有重复)" />
<meta property="og:description" content="题目来自B站上看的一个讲爬虫的老师发的视频，不过代码没完全照那人的来，由于在平板上写的代码，就没有执行结果，感兴趣自行到B站搜原视频。 1 import pandas" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://richfan.site/program/python-pandas%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80100%E9%97%AE%E6%9C%89%E9%87%8D%E5%A4%8D/" /><meta property="og:image" content="http://richfan.site/favicon.svg"/><meta property="article:section" content="Program" />
<meta property="article:published_time" content="2023-09-25T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-09-25T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://richfan.site/favicon.svg"/>

<meta name="twitter:title" content="Python pandas数据分析基础100问(有重复)"/>
<meta name="twitter:description" content="题目来自B站上看的一个讲爬虫的老师发的视频，不过代码没完全照那人的来，由于在平板上写的代码，就没有执行结果，感兴趣自行到B站搜原视频。 1 import pandas"/>
<meta name="application-name" content="樊刹">
<meta name="apple-mobile-web-app-title" content="樊刹"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://richfan.site/program/python-pandas%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80100%E9%97%AE%E6%9C%89%E9%87%8D%E5%A4%8D/" /><link rel="prev" href="http://richfan.site/program/python/readme/" /><link rel="next" href="http://richfan.site/program/python/pycharm%E4%BC%98%E5%8C%96%E4%BD%BF%E7%94%A8/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Python pandas数据分析基础100问(有重复)",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/richfan.site\/program\/python-pandas%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80100%E9%97%AE%E6%9C%89%E9%87%8D%E5%A4%8D\/"
    },"genre": "Program","keywords": "pandas","wordcount":  8828 ,
    "url": "http:\/\/richfan.site\/program\/python-pandas%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80100%E9%97%AE%E6%9C%89%E9%87%8D%E5%A4%8D\/","datePublished": "2023-09-25T00:00:00+00:00","dateModified": "2023-09-25T00:00:00+00:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "richfan"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper" data-page-style="normal"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper" data-github-corner="right">
    <div class="header-title">
      <a href="/" title="樊刹"><img loading="lazy" src="/favicon.svg" srcset="/favicon.svg, /favicon.svg 1.5x, /favicon.svg 2x" sizes="auto" data-title="樊刹" data-alt="樊刹" class="logo" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/><span id="typeit-header-desktop" class="typeit"></span><span class="header-title-post"><i class='fa-solid fa-jedi fa-fw'></i></span></a><span id="typeit-header-subtitle-desktop" class="typeit header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/posts/"
                
                
              ><i class="fa-solid fa-archive fa-fw fa-fw fa-sm" aria-hidden="true"></i> 文章</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              ><i class="fa-solid fa-folder-open fa-fw fa-fw fa-sm" aria-hidden="true"></i> 分类</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/tags/"
                
                
              ><i class="fa-solid fa-tags fa-fw fa-fw fa-sm" aria-hidden="true"></i> 标签</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/friends/"
                
                
              ><i class="fa-solid fa-users fa-fw fa-fw fa-sm" aria-hidden="true"></i> 友链</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/about/"
                
                
              ><i class="fa-solid fa-info-circle fa-fw fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="搜索文章标题或内容……" id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="樊刹"><img loading="lazy" src="/favicon.svg" srcset="/favicon.svg, /favicon.svg 1.5x, /favicon.svg 2x" sizes="auto" data-title="/favicon.svg" data-alt="/favicon.svg" class="logo" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/><span id="typeit-header-title-mobile" class="typeit"></span><span class="header-title-post"><i class='fa-solid fa-jedi fa-fw'></i></span></a><span id="typeit-header-subtitle-mobile" class="typeit header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="搜索文章标题或内容……" id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              取消
            </a>
          </li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/posts/"
                  
                  
                ><i class="fa-solid fa-archive fa-fw fa-fw fa-sm" aria-hidden="true"></i> 文章</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                ><i class="fa-solid fa-folder-open fa-fw fa-fw fa-sm" aria-hidden="true"></i> 分类</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/tags/"
                  
                  
                ><i class="fa-solid fa-tags fa-fw fa-fw fa-sm" aria-hidden="true"></i> 标签</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/friends/"
                  
                  
                ><i class="fa-solid fa-users fa-fw fa-fw fa-sm" aria-hidden="true"></i> 友链</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/about/"
                  
                  
                ><i class="fa-solid fa-info-circle fa-fw fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="切换主题"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><nav aria-label="breadcrumb" class="breadcrumb-container sticky">
    <ol class="breadcrumb"><li class="breadcrumb-item"><a href="/program/" title="Programs">Programs</a></li><li class="breadcrumb-item active" aria-current="page">Python pandas数据分析基础100问(有重复)</li>
    </ol>
  </nav><main class="container"><article class="page single special">
    <div class="header"><h1 class="single-title animate__animated animate__pulse animate__faster">Python pandas数据分析基础100问(有重复)</h1></div><div
      class="content"
      id="content"
      
      
    ><p>题目来自B站上看的一个讲爬虫的老师发的视频，不过代码没完全照那人的来，由于在平板上写的代码，就没有执行结果，感兴趣自行到B站搜原视频。</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import pandas as pd</span></span></code></pre></td></tr></table>
</div>
</div><p>1、将list转为dataframe</p>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls = [(&#34;join&#34;, 25, &#34;male&#34;), (&#34;lisa&#34;, 29, &#34;female&#34;), (&#34;david&#34;, 27, &#34;male&#34;)``df = pd.DataFrame(ls, columns=[&#34;name&#34;, &#34;age&#34;, &#34;gender&#34;])``display(df)</span></span></code></pre></td></tr></table>
</div>
</div><p>2、从csv文件中读取数据</p>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df = pd.read_csv(&#34;filenpath&#34;, encoding=&#34;utf8&#34;)``# filepath_or_buffer: filepath 文件路径``# usecols: 需要读取的行列表``# nrows: 读取的行数``# na_values: 空值``# encoding: 编码格式</span></span></code></pre></td></tr></table>
</div>
</div><p>3、将dataframe导入到mysql</p>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">from sqlalchemy import create_engine``from sqlclchemy.type import *``df = pd.DataFrame() # 数据集``# 创建引擎``conn = create_engine(&#34;mysql+mysqlconnector://username:password@127.0.0.1:3306/db_name&#34;)``# 写入到数据库``df.to_sql(&#34;table_name&#34;, engine)</span></span></code></pre></td></tr></table>
</div>
</div><p>4、查看一个dataframe的行数、列数</p>
<div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 行``df.shape[0]``# 列``df.shape[1]</span></span></code></pre></td></tr></table>
</div>
</div><p>5、查看dataframe的列名</p>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.columns # serise格式``df.columns.tolist() # list格式</span></span></code></pre></td></tr></table>
</div>
</div><p>6、查看dataframe索引</p>
<div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.index # series格式``df.index.tolist()</span></span></code></pre></td></tr></table>
</div>
</div><p>7、查看pandas库的版本号</p>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pd.__version__</span></span></code></pre></td></tr></table>
</div>
</div><p>8、从csv文件里读取数据，并创建一个dataframe</p>
<div class="highlight" id="id-9"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df = pd.read_csv(&#34;filepath&#34;, encoding=&#39;utf8&#39;)</span></span></code></pre></td></tr></table>
</div>
</div><p>9、查看dataframe的列的数据类型</p>
<div class="highlight" id="id-10"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.dtypes</span></span></code></pre></td></tr></table>
</div>
</div><p>10、查看dataframe摘要统计描述信息</p>
<div class="highlight" id="id-11"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.describe() # count/mean/std/min/max 1-4分位数，1-10分位数``# include: 统计哪些列，默认为None，全部``# exclude: 排除列``# percentiles: 分位点,默认为None,4分位</span></span></code></pre></td></tr></table>
</div>
</div><p>11、dataframe提取行</p>
<div class="highlight" id="id-12"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.loc[index_name] # 单行``df.loc[index_name1, index_name2] # 多行``df.iloc[start_index: end_index] # 连续多行，不包含end</span></span></code></pre></td></tr></table>
</div>
</div><p>12、dataframe提取列</p>
<div class="highlight" id="id-13"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;col_name&#34;] # 单列``df[[&#34;col_1&#34;, &#34;col_2&#34;, ....]] # 多列``df.iloc[:, col_index] # 单列``df.iloc[:, col_start_index: col_end_index] # 按列索引取 连续多列</span></span></code></pre></td></tr></table>
</div>
</div><p>13、选择datafram的行和列</p>
<div class="highlight" id="id-14"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.loc[[indexName1, indexName2..], [colName1, colName2...]]  # 按行列名提取``   ``df.iloc[[startIndex: endIndex], [colStartIndex: colEndIndex]] # 按行列索引提取，不包括end</span></span></code></pre></td></tr></table>
</div>
</div><p>14、筛选dataframe的行</p>
<div class="highlight" id="id-15"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 使用列条件筛选行``df[df[列名条件]] # 单条件``df[(条件1) &amp; (条件2)] # 多条件，每一个单条件用()包起来，连接符号：&amp;-与，|-或，～非``# 示例：筛选出年龄小于等于30，且收入大于等于30万的男性``df[(df[&#34;age&#34;]&lt;=30) &amp; (df[&#34;income&#34;]&gt;=300000) &amp; df[&#34;gender&#34;]==&#34;male&#34;]</span></span></code></pre></td></tr></table>
</div>
</div><p>15、筛选dataframe的行和列</p>
<div class="highlight" id="id-16"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[(条件1) &amp; (条件2)][[colName1, colName2....]] # 筛选行之后再选择需要的列``df.loc[行筛选条件, [colName1, colName2]] # 使用列进行行条件筛选，同时限定输出列</span></span></code></pre></td></tr></table>
</div>
</div><p>16、根据某一列的值对一个dataframe进行排序</p>
<div class="highlight" id="id-17"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.sort_values(by=[&#34;col1&#34;, &#34;col2&#34;], ascending=True) # 默认升序</span></span></code></pre></td></tr></table>
</div>
</div><p>17、对dataframe进行数据透视操作，即实现excel中的数据透视表功能</p>
<div class="highlight" id="id-18"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;行索引&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;列索引&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&#34;统计列&#34;</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;函数名&#39;</span><span class="p">)</span><span class="err">``</span><span class="c1"># aggfunc 支持 sum/mean/count/min/max等</span></span></span></code></pre></td></tr></table>
</div>
</div><p>18、对dataframe进行聚合操作</p>
<div class="highlight" id="id-19"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.groupby(by=[&#34;索引列1&#34;, &#34;索引列2&#34;])[&#39;统计列&#39;].agg([&#34;函数1&#34;, &#34;函数2&#34;, &#34;函数3&#34;])</span></span></code></pre></td></tr></table>
</div>
</div><p>19、对多个dataframe实现合并操作</p>
<div class="highlight" id="id-20"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 纵向合并` `pd.merge(df_left, df_right, on=[&#34;合并列1&#34;, &#34;合并列2&#34;], how=&#34;inner or left or right or outer&#34;)``# 横向合并``pd.concat([df_1, df_2, df_3]) # 常用于拥有相同格式的多个数据集</span></span></code></pre></td></tr></table>
</div>
</div><p>20、删除dataframe中的一列或多列数据</p>
<div class="highlight" id="id-21"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.drop(columns=[&#34;需要删除的列&#34;], inplace=True) # 默认是生成一个新的数据集，inplace=False``   ``df.dorp(subset=[&#34;需要删除的列&#34;], axis=1, inplace=True)</span></span></code></pre></td></tr></table>
</div>
</div><p>21、向dataframe中添加一行数据</p>
<div class="highlight" id="id-22"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.iloc[df.shape[0]] = index_array</span></span></code></pre></td></tr></table>
</div>
</div><p>22、删除dataframe中的一行或多行数据</p>
<div class="highlight" id="id-23"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.drop(subset=[1, 3], axis=0, inplace=True)</span></span></code></pre></td></tr></table>
</div>
</div><p>23、使用索引选择dataframe中某个范围内的行</p>
<div class="highlight" id="id-24"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[1: 4] # 提取第一行到第四行</span></span></code></pre></td></tr></table>
</div>
</div><p>24、使用某一列选择dataframe中某个范围内的行</p>
<div class="highlight" id="id-25"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.set_index(&#34;name&#34;).loc[&#34;start_indexName&#34;: &#34;end_indexName&#34;] # 连续索引名``# 不连续行，在列表中用逗号分隔即可</span></span></code></pre></td></tr></table>
</div>
</div><p>25、在dataframe中按特定条件取行</p>
<div class="highlight" id="id-26"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[df[&#34;name&#34;] == &#34;小杨&#34;] # 单条件、单取值``df[df[&#34;name&#34;] in [&#34;小杨&#34;, &#34;小李&#34;]] # 单条件、多取值``df[(df[&#34;name&#34;] in [&#34;小杨&#34;, &#34;小李&#34;]) &amp; (df[&#34;age&#34;] &gt;= 30)] # 多条件</span></span></code></pre></td></tr></table>
</div>
</div><p>26、修改dataframe的列名</p>
<div class="highlight" id="id-27"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 修改``df.rename(columns={&#34;原列名&#34;: &#34;修改后的列名&#34;}, inplace=True)``# 重新设置``df.columns = [新的列名数组]</span></span></code></pre></td></tr></table>
</div>
</div><p>27、计算dataframe中某一列的总和</p>
<div class="highlight" id="id-28"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;colName&#34;].sum()</span></span></code></pre></td></tr></table>
</div>
</div><p>28、计算dataframe中某一列的平均值</p>
<div class="highlight" id="id-29"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;col_name&#34;].mean() # 返回浮点类型</span></span></code></pre></td></tr></table>
</div>
</div><p>29、计算dataframe中某一列的中位数</p>
<div class="highlight" id="id-30"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;col_name&#34;].median() # 返回浮点类型</span></span></code></pre></td></tr></table>
</div>
</div><p>30、计算dataframe中某一列的标准差</p>
<div class="highlight" id="id-31"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;col_name&#34;].std()</span></span></code></pre></td></tr></table>
</div>
</div><p>31、计算dataframe中某一列的方差</p>
<div class="highlight" id="id-32"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s2">&#34;col_name&#34;</span><span class="p">]</span><span class="o">.</span><span class="k">var</span><span class="p">()</span></span></span></code></pre></td></tr></table>
</div>
</div><p>32、计算dataframe中某一列的最大值和最小值</p>
<div class="highlight" id="id-33"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;col_name&#34;].max()``df[&#34;col_name&#34;].min()</span></span></code></pre></td></tr></table>
</div>
</div><p>33、查找dataframe某个单元格</p>
<div class="highlight" id="id-34"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.loc[row, col]</span></span></code></pre></td></tr></table>
</div>
</div><p>34、dataframe重命名列名</p>
<div class="highlight" id="id-35"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.rename(columns={&#34;key&#34;: &#34;value&#34;}, inplace=True)</span></span></code></pre></td></tr></table>
</div>
</div><p>35、替换dataframe中的特定值</p>
<div class="highlight" id="id-36"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 单列-1``df[&#34;col_name&#34;].replace(to_replace=&#34;replace_str&#34;, value=&#34;str_new&#34;, regex=True)``# 单列-2``df[&#34;col_name&#34;].map(lambda x: str(x).replace(&#34;replace_str&#34;, &#34;str_new&#34;))</span></span></code></pre></td></tr></table>
</div>
</div><p>36、如何将dataframe中的特定制替换成缺失值</p>
<div class="highlight" id="id-37"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df = df.replace(replace_value, np.nan) # 空值：np.nan pd.NaT</span></span></code></pre></td></tr></table>
</div>
</div><p>37、将dataframe中的空值进行填充</p>
<div class="highlight" id="id-38"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.fillna(value, inplace=True)``# value = -999, 直接填充值``# value = &#34;ffill&#34;, 使用上一个非空值进行填充``# value = &#34;bfill&#34;, 使用后一个非空值进行填充``# value = {&#34;col1&#34;: value1, &#34;col2&#34;: value2}, 传入字典，不同列填充不同的值</span></span></code></pre></td></tr></table>
</div>
</div><p>38、删除dataframe中的缺失值</p>
<div class="highlight" id="id-39"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.dropna(subset=[&#34;col1&#34;, &#34;col2&#34;], how=&#39;any&#39;, axis=0, inplace=True)``# subset: 用来判断是否删除的列``# axis: 0-删除行, 1-删除列``# how: any-一旦存在空值就删除, all-全为空时删除``# thresh: 0-1的浮点数，空值占比大于一定比例时删除</span></span></code></pre></td></tr></table>
</div>
</div><p>39、在dataframe中使用聚合函数</p>
<div class="highlight" id="id-40"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.groupby(by=[&#34;col1&#34;, &#34;col2&#34;]).mean()``# 也可以使用count/sum等函数</span></span></code></pre></td></tr></table>
</div>
</div><p>40、在pandas中创建一个空的数据帧</p>
<div class="highlight" id="id-41"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df = pd.DataFrame()</span></span></code></pre></td></tr></table>
</div>
</div><p>41、在pandas中进行分组、聚合</p>
<div class="highlight" id="id-42"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.groupby(by=[&#34;col1_groupby&#34;, &#34;col2_groupby&#34;])[&#34;col1_calculate&#34;, &#34;col2_calculate&#34;].agg(&#34;func1&#34;, &#34;func2&#34;[, ....])</span></span></code></pre></td></tr></table>
</div>
</div><p>42、对dataframe中的数据进行类型转换</p>
<div class="highlight" id="id-43"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;col_name&#34;] = df[&#34;col_name&#34;].astype(np.int)</span></span></code></pre></td></tr></table>
</div>
</div><p>43、如何使用pandas中的迭代循环方法</p>
<div class="highlight" id="id-44"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">for index,row in df.iterrows():`    `print(index, row)</span></span></code></pre></td></tr></table>
</div>
</div><p>44、如何使用pandas中的交叉表(列联表)</p>
<div class="highlight" id="id-45"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pd.crosstab(df[&#34;col_index&#34;], df[&#34;col_feature&#34;]) # 默认是统计次数</span></span></code></pre></td></tr></table>
</div>
</div><p>45、如何在pandas中使用重塑(reshape)数据？</p>
<div class="highlight" id="id-46"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.pivot(index=&#34;col_index&#34;, columns=&#34;col_feature&#34;, values=&#34;col_calculate&#34;)</span></span></code></pre></td></tr></table>
</div>
</div><p>46、如何在pandas中使用变因子(factorize)函数</p>
<div class="highlight" id="id-47"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;new&#34;] = pd.factorize(df[&#34;class&#34;]) # 相当于是把字符串类别变量进行数值化</span></span></code></pre></td></tr></table>
</div>
</div><p>47、在dataframe中创建随机日期列</p>
<div class="highlight" id="id-48"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">start_date = &#39;2023-01-01&#39;``end_date = &#39;2023-07-27&#39;``data_range = pd.date_range(start=start_date, end=end_date)``   ``# size=df.shape[0] 即可创建一个跟dataframe等长的列``df[&#34;random_date&#34;] = pd.Series(np.random.choice(date_range, size=df.shape[0]))</span></span></code></pre></td></tr></table>
</div>
</div><p>48、如何在pandas中使用字符串函数</p>
<div class="highlight" id="id-49"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># to_uppercase 字符串中的字母转为大写``# to_lowercase 字符串中的字母转为小写``# strip 去除字符串两侧的空格``# replace 将字符串中的一个子字符串替换成另外一个子字符串``# contains 判断字符串是否包含给定的子字符串``# startwith 判断字符串是否以给定字符串开头``# endwith 判断字符串是否以给定字符串结尾``# split 切分字符串``   ``df[&#39;col_name&#39;] = df[&#39;col_name&#39;].str.strip() # 对某一列去除空格``df[&#39;col_name&#39;] = df[&#39;col_name&#39;].str.strip().str.to_lowercase() # 对某一列去除空格，然后字母转小写</span></span></code></pre></td></tr></table>
</div>
</div><p>49、如何在dataframe中使用字符串拆分函数</p>
<div class="highlight" id="id-50"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[[&#39;col_1&#39;, &#39;col2&#39;]] = df[&#39;col_to_split&#39;].str.split(&#34;用来切分的字符串&#34;, expand=True)</span></span></code></pre></td></tr></table>
</div>
</div><p>50、如何对dataframe进行标准化处理</p>
<div class="highlight" id="id-51"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import pandas as pd``from sklearn.preprocessing import StandardScaler``   ``df_new = StandardScaler().fit_transform(df)</span></span></code></pre></td></tr></table>
</div>
</div><p>51、如何对dataframe进行归一化处理</p>
<div class="highlight" id="id-52"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import sklearn.preprocessing import MinMaxScaler``df_new = MinMaxScaler().fit_transform(df)</span></span></code></pre></td></tr></table>
</div>
</div><p>52、在pandas中使用数据透视表进行数据汇总</p>
<div class="highlight" id="id-53"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pd.pivot_table(df, values=&#34;计算列&#34;, index=&#39;索引列&#39;, columns=&#34;特征列&#34;, agg=&#34;func_name&#34;)``# 跟pivot也没有太大差别</span></span></code></pre></td></tr></table>
</div>
</div><p>53、在dataframe中使用groupby进行数据汇总</p>
<div class="highlight" id="id-54"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.groupby(by=[&#34;col_name1&#34;, &#34;col_name2&#34;]).sum() # .mean .max .std</span></span></code></pre></td></tr></table>
</div>
</div><p>54、如何在Series中使用rolling函数进行移动窗口统计？</p>
<div class="highlight" id="id-55"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import pandas as pd``import numpy as np``se = pd.Series(np.random.randn(10))``&gt;&gt;&gt; se``0   -0.974864``1    1.916511``2    0.760756``3    0.110363``4   -0.137077``5    0.186016``6   -0.759734``7   -1.529321``8   -1.571819``9    0.123134``   ``se_rolling = se.rolling(window=3).mean()``&gt;&gt;&gt; se_rolling` `0         NaN``1         NaN``2    0.567468``3    0.929210``4    0.244681``5    0.053101``6   -0.236932``7   -0.701013``8   -1.286958``9   -0.992669``   ``计算逻辑：由于index为0、1时，由于不足移动数量，结果为NaN``index2 =（index0+index1+index2 ）/ 3``index3 =（ index1+index2+index3）/ 3``   ``# 语法``DataFrame.rolling(`    `window, # 表示时间窗的大小，数值表示计算统计量的观测值的数量即向前几个数据`    `min_periods=None, # 每个窗口最少包含的观测值数量，小于这个值的窗口结果为NA，值可以是int，默认None。`    `center=False, # 把窗口的标签设置为居中。布尔型，默认False，居右`    `win_type=None, # 窗口的类型。截取窗的各种函数。字符串类型，默认为None。`    `on=None, # 可选参数。对于dataframe而言，指定要计算滚动窗口的列。值为列名。`    `axis=0, # 默认为0，即对列进行计算`    `closed=None # 定义区间的开闭，默认是左开右闭的即默认为right,默认是左开右闭的即默认为right`    `)</span></span></code></pre></td></tr></table>
</div>
</div><p>55、在pandas中使用shift函数进行时间序列处理</p>
<div class="highlight" id="id-56"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import pandas as pd``import numpy as np``import datetime``   ``# 创建一个时间数组``date_range = pd.date_range(start=&#39;2023-01-01&#39;, end=&#39;2023-07-28&#39;, periods=10)``# 创建一个Serise``se = pd.Series(np.random.randn(10), index=date_range)``&gt;&gt;&gt; se``2023-01-01 00:00:00    0.294050``2023-01-24 02:40:00   -0.324300``2023-02-16 05:20:00    0.345552``2023-03-11 08:00:00   -1.519163``2023-04-03 10:40:00    0.446149``2023-04-26 13:20:00    1.109210``2023-05-19 16:00:00    1.061693``2023-06-11 18:40:00   -1.417034``2023-07-04 21:20:00   -0.218537``2023-07-28 00:00:00   -0.365196``   ``# shift数据前滞 或 后滞``result = se.shift(periods=3, freq=datetime.timedelta(-3))``&gt;&gt;&gt; result``2022-12-23 00:00:00    0.294050``2023-01-15 02:40:00   -0.324300``2023-02-07 05:20:00    0.345552``2023-03-02 08:00:00   -1.519163``2023-03-25 10:40:00    0.446149``2023-04-17 13:20:00    1.109210``2023-05-10 16:00:00    1.061693``2023-06-02 18:40:00   -1.417034``2023-06-25 21:20:00   -0.218537``2023-07-19 00:00:00   -0.365196``   ``# DataFrame.shift(periods=1, freq=None, axis=0)``# periods可以理解为移动幅度的次数，负数表示前滞，正数表示后滞。``# freq为None时，移动的是其他数据的值，即移动periods*1个单位长度。可以设为一个timedelta对象。适用于索引为时间序列数据时。``# axis默认为0，表示对列操作。如果为行则表示对行操作。</span></span></code></pre></td></tr></table>
</div>
</div><p>56、如何在pandas中使用set_index函数设置索引</p>
<div class="highlight" id="id-57"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.set_index(keys=[&#39;a&#39;, &#39;b&#39;]) # 将a\b两列设置为索引``   ``# set_index(keys, drop=True, inplace=False)``# drop: 是否删除原本的列，默认True-删除``# inplace: 是否原地修改，默认False-否</span></span></code></pre></td></tr></table>
</div>
</div><p>57、如何在pandas中使用reset_index函数重置索引</p>
<div class="highlight" id="id-58"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.reset_index() # 什么都不传入，默认把所有层级的索引重置为新的字段``   ``# reset_index(level=None, drop=False, inplace=False)``# level: 需要重置的索引层级``# drop: 是否删除，默认False``# inplace: 是否原地操作，默认False</span></span></code></pre></td></tr></table>
</div>
</div><p>58、如何在pandas中使用map进行数据操作</p>
<div class="highlight" id="id-59"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># map函数用于列操作``# 数据映射``mapping_dict = {&#34;male&#34;:0, &#34;female&#34;:1}``df[&#34;gender&#34;] = df[&#34;gender&#34;].map(mapping_dict)``   ``# 更常见的操作是向map传入一个函数``def mapping(x):`    `mapping_dict = {&#34;male&#34;:0, &#34;female&#34;:1}`    `return mapping_dict[x]``df[&#34;gender&#34;] = df[&#34;gender&#34;].map(mapping)``   ``# 传入匿名函数``df[&#34;gender&#34;] = df[&#34;gender&#34;].map(lambda x: lambda 1 if x==&#34;female&#34; else 0)</span></span></code></pre></td></tr></table>
</div>
</div><p>59、如何在pandas中使用apply函数进行元素级函数应用</p>
<div class="highlight" id="id-60"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># apply函数用于单元格级的操作``def multiply_by_2(x)`    `return x*2``df_new = df.apply(multiply_by_2) # df中的每一个元素都乘以2``   ``# 个人比较常用的操作：``df_new = df.groupby(groupby).apply(lambda df: pd.Series({`    `&#39;cnt&#39;: df.shape[0],`    `&#39;bad_cnt&#39;: df[label].sum(),`    `# 当标签类型只有0、1的时候，可以使用均值计算坏账率`    `&#39;bad_rate&#39;: df[label].mean(),`    `&#39;begin_date&#39;: df[apply_time_label].min(),`    `&#39;end_date&#39;: df[apply_time_label].max()})).reset_index()`    `# 造特征``df[&#34;col_new&#34;] = df.apply(lambda x: x[&#34;col1&#34;] if x[&#34;col&#34;]&gt;=100 else x[&#34;col2&#34;], axis=1)</span></span></code></pre></td></tr></table>
</div>
</div><p>60、如何在pandas中使用agg函数进行分组聚合操作</p>
<div class="highlight" id="id-61"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.groupby([&#39;col_1&#39;, &#34;col_2&#34;]).agg({&#34;col3&#34;:&#34;sum&#34;, &#34;col4&#34;:&#34;mean&#34;})</span></span></code></pre></td></tr></table>
</div>
</div><p>61、如何在pandas中使用transform函数进行分组变换操作</p>
<div class="highlight" id="id-62"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 通过分组后的计算，取到对分组结果进行赋值的效果``df[&#34;col_new&#34;] = df.groupby(&#39;col1&#39;)[&#39;col_calculate&#39;].transform(lambda x: x.mean())</span></span></code></pre></td></tr></table>
</div>
</div><p>62、如何在pandas中使用stack和unstack函数进行数据透视操作</p>
<div class="highlight" id="id-63"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="c1"># stack: 列转行``import pandas as pd``import numpy as np``df = pd.DataFrame({&#34;name&#34;: [&#39;alice&#39;, &#39;bob&#39;, &#39;charlie&#39;],`        `&#34;year&#34;: [2020, 2021, 2022],`        `&#34;age&#34;: [20, 30, 40]})``df.set_index(&#34;year&#34;, inplace=True)``&gt;&gt;&gt; df`         `name  age``year`              `2020    alice   20``2021      bob   30``2022  charlie   40``   ``df.stack() # 列转行-创建新dataframe``&gt;&gt;&gt;` `year`      `2020  name      alice`      `age          20``2021  name        bob`      `age          30``2022  name    charlie`      `age          40``   ``# unstack: 行转列``df.stack().unstack() # 行转列-还原为原来的效果</span></span></span></code></pre></td></tr></table>
</div>
</div><p>63、如何在pandas中使用crosstab函数进行数据透视操作</p>
<div class="highlight" id="id-64"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pd.crosstab(index, # 行`            `columns, # 列`            `values=None, # 聚合列`            `aggfunc=None, # 聚合函数`            `rownames=None, # 行-分组名称`            `colnames=None, # 列-分组名称`            `dropna=True, # 是否删除空值`            `normalize=False) # 是否标准化</span></span></code></pre></td></tr></table>
</div>
</div><p>64、在pandas中使用cut函数对数据进行离散化(分箱)</p>
<div class="highlight" id="id-65"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pd.cut(x=df[&#34;age&#34;], bins=10, right=True, labels=None)``# bins: 为整数表示分箱数量(等宽分)，为列表时表示切分点``# right: True-左开右闭``# labels: 分箱后显示的分箱名``# retbins=False, 是否返回分箱边界值</span></span></code></pre></td></tr></table>
</div>
</div><p>65、如何在pandas中使用qcut函数对数据进行等频分箱</p>
<div class="highlight" id="id-66"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">qcut(x, # 待分箱的数据`     `q, # 等频分箱数量`     `labels=None, # 分箱后箱体名`     `retbins=False, # 是否返回分箱边界值`     `precision=3, # 分位数精度`     `duplicates=&#39;raise&#39; # 切分点重复如何处理`     `)</span></span></code></pre></td></tr></table>
</div>
</div><p>66、在pandas中使用interpolate函数进行数据插值操作</p>
<div class="highlight" id="id-67"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.interpolate(method=&#39;liner&#39;, axis=0, limit=None, inplace=False)``# liner-线性插值</span></span></code></pre></td></tr></table>
</div>
</div><p>67、在pandas中使用bfill 和 ffill 函数进行数据填充操作</p>
<div class="highlight" id="id-68"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.bfill() # 使用后值填充``df.ffill() # 使用前值填充</span></span></code></pre></td></tr></table>
</div>
</div><p>68、在pandas中使用正则表达式进行数据过滤操作</p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzU1NzAyODM4NQ==&amp;mid=2247485198&amp;idx=1&amp;sn=69c501b9727f18d654fc3fecf06f2f64&amp;chksm=fc3d4240cb4acb563bd285ce223d997bd5797713abbac6f14ce3d3804172d02837bc3b86a428&amp;scene=21#wechat_redirect"target="_blank" rel="external nofollow noopener noreferrer">【python 基础】re 正则表达式</a></p>
<div class="highlight" id="id-69"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># pd.Series.str.contains(pat, case=True, flags=0, na=None, regex=True)``# pat: 字符类型 字符序列或者正则表达式``# case: 布尔类型 是否区分大小写``# flags: int类型 默认0 标志传递到re模块 比如flags=re.INGNORECASE 等价于 case=False``# na: 默认NaN 填写缺失值的值 可以随意指定``# regex: 布尔类型 默认True 假定pat为正则表达式 针对特殊字符需要设置regex=False``df = pd.DataFrame({&#34;name&#34;: [&#34;alice&#34;, &#34;bob&#34;, &#34;charlie&#34;, &#34;diana&#34;, &#34;emily&#34;],`                   `&#34;age&#34;: [10, 20, 30, 40, 50],`                   `&#34;email&#34;: [&#34;alice@qq.com&#34;, &#34;bob@163.com&#34;, &#34;charlie@yahoo.com&#34;, &#34;diana@gmail.com&#34;, &#34;emily@hotmail.com&#34;]})``&gt;&gt;&gt; df`      `name  age              email``0    alice   10       alice@qq.com``1      bob   20        bob@163.com``2  charlie   30  charlie@yahoo.com``3    diana   40    diana@gmail.com``4    emily   50  emily@hotmail.com``   ``df[df[&#34;email&#34;].str.contains(pat=&#34;gmail&#34;)]``&gt;&gt;&gt; ``    name  age            email``3  diana   40  diana@gmail.com``   ``df[df[&#34;email&#34;].str.contains(pat=&#34;gmail|qq&#34;, case=False)]``&gt;&gt;&gt; ``    name  age            email``0  alice   10     alice@qq.com``3  diana   40  diana@gmail.com</span></span></code></pre></td></tr></table>
</div>
</div><p>69、如何在pandas中使用diff函数进行时间序列处理</p>
<div class="highlight" id="id-70"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 使用场景：现有某个用户的操作日志，想知道上一次操作跟下一次操作的间隔时间是多少。``date_range = pd.date_range(&#39;2023-01-01&#39;, periods=5)``se = pd.Series(data=date_range)``&gt;&gt;&gt; se``0   2023-01-01``1   2023-01-02``2   2023-01-03``3   2023-01-04``4   2023-01-05``   ``se_diff = se.diff() # 不填数字表示一阶，填了数字表示多阶，递减``&gt;&gt;&gt; se_diff``0      NaT``1   1 days``2   1 days``3   1 days``4   1 days</span></span></code></pre></td></tr></table>
</div>
</div><p>70、在dataframe中使用dropna进行删除空值的操作</p>
<div class="highlight" id="id-71"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pd.DataFrame.dropna(axis=0, how=&#39;any&#39;, thresh=None, subset=None, inplace=True)``# subset: 用来判断是否删除的列``# axis: 0-删除行, 1-删除列``# how: any-一旦存在空值就删除, all-全为空时删除``# thresh: 0-1的浮点数，空值占比大于一定比例时删除``# inplace: 是否原地操作</span></span></code></pre></td></tr></table>
</div>
</div><p>71、如何在panda中使用join函数进行数据拼接操作</p>
<div class="highlight" id="id-72"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 类似于sql中的join，但不会自动合并相同列名的字段``# 只要两个表列名不同，不加任何参数就可以直接用。``# 如果两个表有重复的列名，需指定 lsuffix（左侧数据重列列使用的列名后缀）, rsuffix 参数。``# 参数的意义与 merge 方法基本相同。``   ``df1.join(df2, on=[&#34;col1&#34;, &#34;col2&#34;], how=&#39;inner&#39;)</span></span></code></pre></td></tr></table>
</div>
</div><p><img loading="lazy" src="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnKToZ0oSjlbGH3DZDDav6YaYn2fHDG4iaKMmpIqhyicqic6FWkY4NYT5dzQ/640?wx_fmt=png" srcset="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnKToZ0oSjlbGH3DZDDav6YaYn2fHDG4iaKMmpIqhyicqic6FWkY4NYT5dzQ/640?wx_fmt=png, https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnKToZ0oSjlbGH3DZDDav6YaYn2fHDG4iaKMmpIqhyicqic6FWkY4NYT5dzQ/640?wx_fmt=png 1.5x, https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnKToZ0oSjlbGH3DZDDav6YaYn2fHDG4iaKMmpIqhyicqic6FWkY4NYT5dzQ/640?wx_fmt=png 2x" sizes="auto" data-title="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnKToZ0oSjlbGH3DZDDav6YaYn2fHDG4iaKMmpIqhyicqic6FWkY4NYT5dzQ/640?wx_fmt=png" data-alt="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnKToZ0oSjlbGH3DZDDav6YaYn2fHDG4iaKMmpIqhyicqic6FWkY4NYT5dzQ/640?wx_fmt=png" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<p>72、如何在pandas中使用get_dummies函数进行哑变量编码操作</p>
<div class="highlight" id="id-73"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pd</span><span class="p">.</span><span class="nf">DataFrame</span><span class="p">(</span><span class="err">{</span><span class="s2">&#34;color&#34;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;red&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;blue&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;green&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;red&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;grey&#34;</span><span class="p">]</span><span class="err">}</span><span class="p">)</span><span class="o">``&gt;&gt;&gt;</span><span class="w"> </span><span class="n">df</span><span class="o">`</span><span class="w">   </span><span class="o">`</span><span class="n">color</span><span class="o">``</span><span class="mi">0</span><span class="w">    </span><span class="n">red</span><span class="o">``</span><span class="mi">1</span><span class="w">   </span><span class="n">blue</span><span class="o">``</span><span class="mi">2</span><span class="w">  </span><span class="n">green</span><span class="o">``</span><span class="mi">3</span><span class="w">    </span><span class="n">red</span><span class="o">``</span><span class="mi">4</span><span class="w">   </span><span class="n">grey</span><span class="o">``</span><span class="w">   </span><span class="o">``</span><span class="n">pd</span><span class="p">.</span><span class="nf">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span><span class="o">``&gt;&gt;&gt;</span><span class="w"> </span><span class="o">``</span><span class="w">   </span><span class="n">blue</span><span class="w">  </span><span class="n">green</span><span class="w">  </span><span class="n">grey</span><span class="w">  </span><span class="n">red</span><span class="o">``</span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">    </span><span class="mi">1</span><span class="o">``</span><span class="mi">1</span><span class="w">     </span><span class="mi">1</span><span class="w">      </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="o">``</span><span class="mi">2</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">1</span><span class="w">     </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="o">``</span><span class="mi">3</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">    </span><span class="mi">1</span><span class="o">``</span><span class="mi">4</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w">     </span><span class="mi">1</span><span class="w">    </span><span class="mi">0</span></span></span></code></pre></td></tr></table>
</div>
</div><p>73、如何将dataframe中的某一列转为int类型</p>
<div class="highlight" id="id-74"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#39;col_name&#39;] = df[&#39;col_name&#39;].astype(np.int)</span></span></code></pre></td></tr></table>
</div>
</div><p>74、如何将dataframe中的某一列转为float类型</p>
<div class="highlight" id="id-75"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 方法1``df[&#39;col_name&#39;] = df[&#39;col_name&#39;].astype(np.float)``# 方法2``df[&#39;col_name&#39;] = df[&#39;col_name&#39;].map(lambda x: float(x))``   ``不管是转为int还是float，都需要把数据中的特殊字符(如：NA, NULL等)转为空值，再转为需要的类型</span></span></code></pre></td></tr></table>
</div>
</div><p>75、如何使用to_excel进行excel数据写入操作</p>
<div class="highlight" id="id-76"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.to_excel(excel_writer=&#34;文件路径&#34;,`    `sheet_name=&#34;Sheet1&#34;, # sheet表名`    `)</span></span></code></pre></td></tr></table>
</div>
</div><p>76、如何使用to_json将数据保存为json文件</p>
<div class="highlight" id="id-77"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.to_json(path_or_buf=&#34;df.json&#34;, orient=None)``# orient:``#     split: 将json文件转换为多个文件，每个文件包含dafaframe中的一行``#     records: 将json文件转换为一个列表，每个元素是dataframe中的一行``#     index: 将json文件转换为一个字典，键是列名，值是一行记录``#     columns: 将json文件转换为一个字典，键是列名，值是一列记录``#     values: 将json文件转换为一个二维数组，每行是dataframe的一行记录</span></span></code></pre></td></tr></table>
</div>
</div><p>77、如何在pandas中使用plot函数画出柱形图</p>
<div class="highlight" id="id-78"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import pandas as pd``import numpy as np``import matplotlib.pyplot as plt``   ``df = pd.DataFrame({&#34;name&#34;: [&#34;tom&#34;, &#34;jerry&#34;, &#34;mickey&#34;, &#34;minnie&#34;, &#34;donald&#34;],`        `&#34;age&#34;: [25, 23, 28, 27, 26],`        `&#34;score&#34;: [80, 90, 75, 85, 95]})``df.plot(kind=&#34;bar&#34;, x=&#34;name&#34;, y=&#39;score&#39;)``# plt.show() # jupyter需要执行plt.show才能在界面上显示图片</span></span></code></pre></td></tr></table>
</div>
</div><p>78、如何在pandas中使用plot函数画出折线图</p>
<div class="highlight" id="id-79"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 当设置的标签信息有中文时，一般要先做一些设置``plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;SimHei&#39;] # 显示中文``plt.rcParams[&#39;axes.unicode_minus&#39;]=False # 取消使用unicode的负号``   ``plt.plot(df[&#34;col_x&#34;], df[&#34;col_y&#34;])``plt.title(&#34;图标题&#34;)``plt.xlabel(&#34;x轴名&#34;)``ply.ylabel(&#34;y轴名&#34;)``plt.show()</span></span></code></pre></td></tr></table>
</div>
</div><p>79、如何在pandas中使用plot函数画散点图</p>
<div class="highlight" id="id-80"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.plot(kind=&#34;scatter&#34;, x=&#34;name&#34;, y=&#39;score&#39;)</span></span></code></pre></td></tr></table>
</div>
</div><p>80、如何在pandas中使用plot函数画出箱线图</p>
<div class="highlight" id="id-81"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 方法1``df.plot(kind=&#34;box&#34;, x=&#34;name&#34;, y=&#39;score&#39;)``# 方法2``df.plot.box() # 默认对所有数值列绘制箱线图</span></span></code></pre></td></tr></table>
</div>
</div><p><img loading="lazy" src="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnK6eO7MOA4IHpPQ6vjiatXzXkXdR04qK1KwvSoxYvBWeMroH6055l8rWQ/640?wx_fmt=png" srcset="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnK6eO7MOA4IHpPQ6vjiatXzXkXdR04qK1KwvSoxYvBWeMroH6055l8rWQ/640?wx_fmt=png, https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnK6eO7MOA4IHpPQ6vjiatXzXkXdR04qK1KwvSoxYvBWeMroH6055l8rWQ/640?wx_fmt=png 1.5x, https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnK6eO7MOA4IHpPQ6vjiatXzXkXdR04qK1KwvSoxYvBWeMroH6055l8rWQ/640?wx_fmt=png 2x" sizes="auto" data-title="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnK6eO7MOA4IHpPQ6vjiatXzXkXdR04qK1KwvSoxYvBWeMroH6055l8rWQ/640?wx_fmt=png" data-alt="https://mmbiz.qpic.cn/mmbiz_png/phUvdvw2lot9RwMjBXxQxEic8dFea6rnK6eO7MOA4IHpPQ6vjiatXzXkXdR04qK1KwvSoxYvBWeMroH6055l8rWQ/640?wx_fmt=png" style="background: url(/svg/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;this.alt=this.dataset.alt;for(const a of ['style','data-title','data-alt','onerror','onload']){this.removeAttribute(a);}"/></p>
<p>81、如何在pandas中使用plot函数画出面积图</p>
<div class="highlight" id="id-82"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pd.DataFrame.plot.area(x=None, y=None)``# 不传入x/y则是一个多列堆叠的面积图</span></span></code></pre></td></tr></table>
</div>
</div><p>82、如何在pandas中使用plot函数绘制饼图</p>
<div class="highlight" id="id-83"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.plot(kind=&#39;pie&#39;, y=&#34;绘制饼图的列&#34;)</span></span></code></pre></td></tr></table>
</div>
</div><p>83、如何在pandas中对一列数据的正数和负数进行分组聚合操作</p>
<div class="highlight" id="id-84"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="n">import</span><span class="w"> </span><span class="n">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">pd</span><span class="o">``</span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pd</span><span class="p">.</span><span class="nf">DataFrame</span><span class="p">(</span><span class="err">{</span><span class="s2">&#34;val&#34;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="err">}</span><span class="p">)</span><span class="o">``</span><span class="n">df</span><span class="p">[</span><span class="s2">&#34;positive&#34;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="s2">&#34;val&#34;</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="o">``</span><span class="n">df</span><span class="p">[</span><span class="s2">&#34;negative&#34;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="s2">&#34;val&#34;</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="o">``</span><span class="n">df_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">.</span><span class="nf">groupby</span><span class="p">(</span><span class="k">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;positive&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;negative&#34;</span><span class="p">]).</span><span class="nf">agg</span><span class="p">(</span><span class="err">{</span><span class="s2">&#34;val&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;sum&#34;</span><span class="err">}</span><span class="p">)</span><span class="o">``</span><span class="n">df_result</span><span class="o">`</span><span class="w"> </span><span class="o">`</span><span class="c1"># 不知道意义在哪....</span></span></span></code></pre></td></tr></table>
</div>
</div><p>84、如何在pandas中实现两列的拼接</p>
<div class="highlight" id="id-85"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#34;new&#34;] = df[&#34;col_1&#34;] + df[&#34;col_2&#34;]</span></span></code></pre></td></tr></table>
</div>
</div><p>85、如何对数据框中的字符串进行模糊匹配</p>
<div class="highlight" id="id-86"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># pd.Series.str.contains(pat, case=True, flags=0, na=None, regex=True)``# pat: 字符类型 字符序列或者正则表达式``# case: 布尔类型 是否区分大小写``# flags: int类型 默认0 标志传递到re模块 比如flags=re.INGNORECASE 等价于 case=False``# na: 默认NaN 填写缺失值的值 可以随意指定``# regex: 布尔类型 默认True 假定pat为正则表达式 针对特殊字符需要设置regex=False</span></span></code></pre></td></tr></table>
</div>
</div><p>86、如何使用pandas处理文本数据</p>
<div class="highlight" id="id-87"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># lower() / upper() 字母转小写、大写``# strip() 去除首尾空格``# split() 字符串切分``# contains() 判断字符串是否包含指定文本``# replace() 文本替换``# extract() 从字符串中提取指定的文本``df[&#39;col_new&#39;] = df[&#34;col&#34;].str.func()</span></span></code></pre></td></tr></table>
</div>
</div><p>87、如何在dataframe中找到重复的行</p>
<div class="highlight" id="id-88"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.duplicated(subset=[&#34;col_1&#34;, &#34;col2&#34;])``# subset: 判断是否重复的字段``# axis=0,默认判断重复行</span></span></code></pre></td></tr></table>
</div>
</div><p>88、如何查看数的异常值</p>
<div class="highlight" id="id-89"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 通过数据描述信息，判断是否存在异常值``import pandas as pd``df.describe()``   ``# 通过箱线图，判断是否存在异常值``from matplotlib import pyplot as plt``plt.boxplot(df)` `# df可以是一个Series，也可以是一个DataFrame``# 当df是一个DataFrame时，建议选取处于同一数量级，不然画出来的图就很难判断</span></span></code></pre></td></tr></table>
</div>
</div><p>89、如何查找dataframe中的缺失值</p>
<div class="highlight" id="id-90"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 使用某一列判断，得到存在空值的行``df[df[&#39;col&#39;].isnull()]``   ``# 判断整个dataframe每个字段的数量``df.isnull().sum()``   ``# info可以获取数据集信息``df.info()</span></span></code></pre></td></tr></table>
</div>
</div><p>90、如何在dataframe中获取某一列的值只出现一次的所有行</p>
<div class="highlight" id="id-91"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">se_value_counts = df[&#39;col&#39;].value_counts()``df[df[&#34;col&#34;].isin(se_value_counts[se_value_counts==1].index)]</span></span></code></pre></td></tr></table>
</div>
</div><p>91、如何在pandas中求相邻元素的差异</p>
<div class="highlight" id="id-92"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#39;col&#39;].diff()` `# 当col字段是时间时，求的是前后两条记录的时间差``# 当col字段是数值时，求的是间隔元素的差值</span></span></code></pre></td></tr></table>
</div>
</div><p>92、如何将dataframe中的某一列中包含的字符串进行拆分</p>
<div class="highlight" id="id-93"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 新字段是一个列表，并且没找到切分符号会返回空值``df[&#39;col_new&#39;] = df[&#39;col&#39;].str.split(&#34;_&#34;)``   ``# 取切分后的第一个值``df[&#34;col_new&#34;] = df[&#34;col&#34;].map(lambda x: str(x).split(&#34;_&#34;)[0])</span></span></code></pre></td></tr></table>
</div>
</div><p>93、如何使用pandas 对某一列数据进行md5加密</p>
<div class="highlight" id="id-94"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 联合建模时，对姓名、手机号、身份证等敏感信息进行加密``import hashlib``df[&#39;col_md5&#39;] = df[&#34;col&#34;].map(lambda x: hashlib.md5(x).hexdigest())</span></span></code></pre></td></tr></table>
</div>
</div><p>94、如何在pandas中使用groupby和agg进行分组聚合</p>
<div class="highlight" id="id-95"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df.groupby(by=[&#34;col_1&#34;, &#34;col_2&#34;]).agg({&#34;score&#34;: &#34;sum&#34;, &#34;age&#34;: &#34;mean&#34;})</span></span></code></pre></td></tr></table>
</div>
</div><p>95、如何在dataframe中使用cumsum函数进行累计计算</p>
<div class="highlight" id="id-96"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 整个dataframe横向或纵向求和, 0-横向,1-纵向``df.cumsum(axis=1)</span></span></code></pre></td></tr></table>
</div>
</div><p>96、如何将dataframe根据某一列的值进行过滤</p>
<div class="highlight" id="id-97"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 筛选出年龄 大于 30 的 男性``df[(df[&#39;age&#39;]&gt;30) &amp; df[&#39;gender&#39;]==&#39;male&#39;]</span></span></code></pre></td></tr></table>
</div>
</div><p>97、如何使用pandas中的值计算出新的一列</p>
<div class="highlight" id="id-98"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">df[&#39;new&#39;] = 0.4 * df[&#34;col&#34;] + 0.6*100</span></span></code></pre></td></tr></table>
</div>
</div><p>98、如何为dataframe的每个元素使用一个自定义函数</p>
<div class="highlight" id="id-99"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">def test(x)`    `return x+1``df_new = df.apply(test)</span></span></code></pre></td></tr></table>
</div>
</div><p>99、如何使用pandas对数据进行预处理</p>
<div class="highlight" id="id-100"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 读取数据``df = pd.read_csv(datapath) # pd.read_excel(datapath, sheet_name)``# 描述信息``df.describe()``# 数据详情``df.info()``# 类型转换``df[&#34;col&#34;] = df[&#34;col&#34;].astype(np.int)``# 删除空值``df.dropna()``# 删除重复值``df.drop_duplicates()``# 填充空值``df.fillna()</span></span></code></pre></td></tr></table>
</div>
</div><p>100、如何从一个csv文件中读取数据，将其中的数值数据进行聚合，并计算每个聚合后的组的中位数</p>
<div class="highlight" id="id-101"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 读取数据``df = pd.read_csv(datapath, encoding=&#39;utf-8&#39;)``# 删除重复值``df.drop_duplicates(inplace=True)``# 删除空值``df.dropna(subset=[...], inplace=True, how=&#39;any&#39;)``# 分组聚合``df.groupby(by=[&#34;col_1&#34;, &#34;col_2&#34;]).agg({&#34;col_cal&#34;: &#34;median&#34;})</span></span></code></pre></td></tr></table>
</div>
</div><p>本文转自 <a href="https://mp.weixin.qq.com/s/ER3s5yjMwMzQqiEr8YwYJQ"target="_blank" rel="external nofollow noopener noreferrer">https://mp.weixin.qq.com/s/ER3s5yjMwMzQqiEr8YwYJQ</a>，如有侵权，请联系删除。</p>
</div><div id="comments"><div id="valine" class="comment"></div><noscript>
        Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/" rel="external nofollow noopener noreferrer">Valine</a>.
      </noscript></div></article></main><footer class="footer">
    <div class="footer-container"><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2020 - 2023</span><span class="author" itemprop="copyrightHolder">
              <a href="https://richfan.site/"target="_blank" rel="external nofollow noopener noreferrer">richfan</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div><div class="footer-line visitor">
          <span id="busuanzi_container_site_uv" title='总访客数'><i class="fa-regular fa-user fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span><span id="busuanzi_container_site_pv" class="footer-divider" title='总访问量'><i class="fa-regular fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span>
        </div><div class="footer-line beian"><span class="gov">京公网安备 11010502049321号</span><span class="icp footer-divider">京ICP备2022007001号-1</span></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric">0%</span>
        </div><div class="fixed-button view-comments d-none" role="button" aria-label="查看评论"><i class="fa-solid fa-comment fa-fw" aria-hidden="true"></i></div></div><a href="https://github.com/fanrich" title="在 GitHub 上查看源代码"target="_blank" rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><div id="mask"></div><div class="reading-progress-bar" style="left: 0;top: 0;"></div><noscript>
    <div class="noscript-warning">FixIt 主题在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/valine/valine.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/valine/Valine.min.js"></script><script src="/lib/autocomplete/autocomplete.min.js" defer></script><script src="/lib/fuse/fuse.min.js" defer></script><script src="/lib/sharer/sharer.min.js" async defer></script><script src="/lib/typeit/index.umd.js" defer></script><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":10},"comment":{"enable":true,"expired":false,"valine":{"appId":"UCqeAbhsO8qZMRwuu7ysnv8c-gzGzoHsz","appKey":"ybrvk4jJU0fLRQAgErJuPhoT","avatar":"wavatar","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"","pageSize":10,"placeholder":"你的评论……","recordIP":true,"visitor":true}},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"data":{"typeit-header-desktop":"樊刹","typeit-header-subtitle-desktop":"不渡尘心","typeit-header-subtitle-mobile":"不渡尘心","typeit-header-title-mobile":"樊刹"},"enablePWA":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":50,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"typeit-header-desktop":["typeit-header-desktop"],"typeit-header-subtitle-desktop":["typeit-header-subtitle-desktop"],"typeit-header-subtitle-mobile":["typeit-header-subtitle-mobile"],"typeit-header-title-mobile":["typeit-header-title-mobile"]},"duration":-1,"loop":false,"speed":100}};</script><script src="/js/theme.min.js" defer></script></body>
</html>
