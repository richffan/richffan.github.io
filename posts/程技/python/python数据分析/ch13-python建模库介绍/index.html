<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Á¨¨ÂçÅ‰∏âÁ´† Python Âª∫Ê®°Â∫ì‰ªãÁªç - https://richfan.site/posts/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch13-python%E5%BB%BA%E6%A8%A1%E5%BA%93%E4%BB%8B%E7%BB%8D/">
    <meta name="author" content="richfan - https://richfan.site/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>Á¨¨ÂçÅ‰∏âÁ´† Python Âª∫Ê®°Â∫ì‰ªãÁªç</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://richfan.site/style.min.d252ad53a5e6b2ae6b8c6c1661107189be3668e36c8dd61697bbe008595a7e04.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"isSingleColumnOfPostList": true,
		"hasFoldAllCodeBlocks": false,
		"svgColor": "",
		"en": false,
		"dark": true
	}
</div>
    <h1 class="title">
        
            Á¨¨ÂçÅ‰∏âÁ´† Python Âª∫Ê®°Â∫ì‰ªãÁªç
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill="#6c757d" p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill="#6c757d"></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill="#6c757d"></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill="#6c757d" p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill="#6c757d" p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill="#6c757d" p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill="#6c757d" p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill="#6c757d"></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">üìú</div>
        
    
    
</div>
</div>
        <div id="content">















<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2023-09-25&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2023-09-25&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            6607 Â≠ó</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            14 ÂàÜÈíü</span>
            <div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
			<a href="/categories/%E7%A8%8B%E6%8A%80">Á®ãÊäÄ</a>
			
		</div>
		<div class="tag">
			
			 - 
			
			<a href="/tags/python">python</a>
			
		</div>
	</div>
</div>
        
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="https://richfan.site/posts/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="https://richfan.site/posts/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch12-pandas%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#131-pandas‰∏éÊ®°Âûã‰ª£Á†ÅÁöÑÊé•Âè£">13.1 pandas‰∏éÊ®°Âûã‰ª£Á†ÅÁöÑÊé•Âè£</a></li>
    <li><a href="#132-Áî®patsyÂàõÂª∫Ê®°ÂûãÊèèËø∞">13.2 Áî®PatsyÂàõÂª∫Ê®°ÂûãÊèèËø∞</a>
      <ul>
        <li><a href="#1321-Áî®patsyÂÖ¨ÂºèËøõË°åÊï∞ÊçÆËΩ¨Êç¢">13.2.1 Áî®PatsyÂÖ¨ÂºèËøõË°åÊï∞ÊçÆËΩ¨Êç¢</a></li>
        <li><a href="#1322-ÂàÜÁ±ªÊï∞ÊçÆÂíåpatsy">13.2.2 ÂàÜÁ±ªÊï∞ÊçÆÂíåPatsy</a></li>
      </ul>
    </li>
    <li><a href="#133-statsmodels‰ªãÁªç">13.3 statsmodels‰ªãÁªç</a>
      <ul>
        <li><a href="#1331-‰º∞ËÆ°Á∫øÊÄßÊ®°Âûã">13.3.1 ‰º∞ËÆ°Á∫øÊÄßÊ®°Âûã</a></li>
        <li><a href="#1332-‰º∞ËÆ°Êó∂Èó¥Â∫èÂàóËøáÁ®ã">13.3.2 ‰º∞ËÆ°Êó∂Èó¥Â∫èÂàóËøáÁ®ã</a></li>
      </ul>
    </li>
    <li><a href="#134-scikit-learn‰ªãÁªç">13.4 scikit-learn‰ªãÁªç</a></li>
    <li><a href="#135-ÁªßÁª≠Â≠¶‰π†">13.5 ÁªßÁª≠Â≠¶‰π†</a></li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <p>Êú¨‰π¶‰∏≠ÔºåÊàëÂ∑≤Áªè‰ªãÁªç‰∫ÜPythonÊï∞ÊçÆÂàÜÊûêÁöÑÁºñÁ®ãÂü∫Á°Ä„ÄÇÂõ†‰∏∫Êï∞ÊçÆÂàÜÊûêÂ∏àÂíåÁßëÂ≠¶ÂÆ∂ÊÄªÊòØÂú®Êï∞ÊçÆËßÑÊï¥ÂíåÂáÜÂ§á‰∏äËä±Ë¥πÂ§ßÈáèÊó∂Èó¥ÔºåËøôÊú¨‰π¶ÁöÑÈáçÁÇπÂú®‰∫éÊéåÊè°Ëøô‰∫õÂäüËÉΩ„ÄÇ</p>
<p>ÂºÄÂèëÊ®°ÂûãÈÄâÁî®‰ªÄ‰πàÂ∫ìÂèñÂÜ≥‰∫éÂ∫îÁî®Êú¨Ë∫´„ÄÇËÆ∏Â§öÁªüËÆ°ÈóÆÈ¢òÂèØ‰ª•Áî®ÁÆÄÂçïÊñπÊ≥ïËß£ÂÜ≥ÔºåÊØîÂ¶ÇÊôÆÈÄöÁöÑÊúÄÂ∞è‰∫å‰πòÂõûÂΩíÔºåÂÖ∂ÂÆÉÈóÆÈ¢òÂèØËÉΩÈúÄË¶ÅÂ§çÊùÇÁöÑÊú∫Âô®Â≠¶‰π†ÊñπÊ≥ï„ÄÇÂπ∏ËøêÁöÑÊòØÔºåPythonÂ∑≤ÁªèÊàê‰∏∫‰∫ÜËøêÁî®Ëøô‰∫õÂàÜÊûêÊñπÊ≥ïÁöÑËØ≠Ë®Ä‰πã‰∏ÄÔºåÂõ†Ê≠§ËØªÂÆåÊ≠§‰π¶Ôºå‰Ω†ÂèØ‰ª•Êé¢Á¥¢ËÆ∏Â§öÂ∑•ÂÖ∑„ÄÇ</p>
<p>Êú¨Á´†‰∏≠ÔºåÊàë‰ºöÂõûÈ°æ‰∏Ä‰∫õpandasÁöÑÁâπÁÇπÔºåÂú®‰Ω†ËÉ∂ÁùÄ‰∫épandasÊï∞ÊçÆËßÑÊï¥ÂíåÊ®°ÂûãÊãüÂêàÂíåËØÑÂàÜÊó∂ÔºåÂÆÉ‰ª¨ÂèØËÉΩÊ¥æ‰∏äÁî®Âú∫„ÄÇÁÑ∂ÂêéÊàë‰ºöÁÆÄÁü≠‰ªãÁªç‰∏§‰∏™ÊµÅË°åÁöÑÂª∫Ê®°Â∑•ÂÖ∑ÔºåstatsmodelsÂíåscikit-learn„ÄÇËøô‰∫åËÄÖÊØè‰∏™ÈÉΩÂÄºÂæóÂÜçÂÜô‰∏ÄÊú¨‰π¶ÔºåÊàëÂ∞±‰∏çÂÅöÂÖ®Èù¢ÁöÑ‰ªãÁªçÔºåËÄåÊòØÂª∫ËÆÆ‰Ω†Â≠¶‰π†‰∏§‰∏™È°πÁõÆÁöÑÁ∫ø‰∏äÊñáÊ°£ÂíåÂÖ∂ÂÆÉÂü∫‰∫éPythonÁöÑÊï∞ÊçÆÁßëÂ≠¶„ÄÅÁªüËÆ°ÂíåÊú∫Âô®Â≠¶‰π†ÁöÑ‰π¶Á±ç„ÄÇ</p>
<h2 id="131-pandas‰∏éÊ®°Âûã‰ª£Á†ÅÁöÑÊé•Âè£">13.1 pandas‰∏éÊ®°Âûã‰ª£Á†ÅÁöÑÊé•Âè£</h2>
<p>Ê®°ÂûãÂºÄÂèëÁöÑÈÄöÂ∏∏Â∑•‰ΩúÊµÅÊòØ‰ΩøÁî®pandasËøõË°åÊï∞ÊçÆÂä†ËΩΩÂíåÊ∏ÖÊ¥óÔºåÁÑ∂ÂêéÂàáÊç¢Âà∞Âª∫Ê®°Â∫ìËøõË°åÂª∫Ê®°„ÄÇ**ÂºÄÂèëÊ®°ÂûãÁöÑÈáçË¶Å‰∏ÄÁéØÊòØÊú∫Âô®Â≠¶‰π†‰∏≠ÁöÑ‚ÄúÁâπÂæÅÂ∑•Á®ã‚Äù„ÄÇ**ÂÆÉÂèØ‰ª•ÊèèËø∞‰ªéÂéüÂßãÊï∞ÊçÆÈõÜ‰∏≠ÊèêÂèñ‰ø°ÊÅØÁöÑ‰ªª‰ΩïÊï∞ÊçÆËΩ¨Êç¢ÊàñÂàÜÊûêÔºåËøô‰∫õÊï∞ÊçÆÈõÜÂèØËÉΩÂú®Âª∫Ê®°‰∏≠ÊúâÁî®„ÄÇÊú¨‰π¶‰∏≠Â≠¶‰π†ÁöÑÊï∞ÊçÆËÅöÂêàÂíåGroupByÂ∑•ÂÖ∑Â∏∏Áî®‰∫éÁâπÂæÅÂ∑•Á®ã‰∏≠„ÄÇ</p>
<p>‰ºòÁßÄÁöÑÁâπÂæÅÂ∑•Á®ãË∂ÖÂá∫‰∫ÜÊú¨‰π¶ÁöÑËåÉÂõ¥ÔºåÊàë‰ºöÂ∞ΩÈáèÁõ¥ÁôΩÂú∞‰ªãÁªç‰∏Ä‰∫õÁî®‰∫éÊï∞ÊçÆÊìç‰ΩúÂíåÂª∫Ê®°ÂàáÊç¢ÁöÑÊñπÊ≥ï„ÄÇ</p>
<p>pandas‰∏éÂÖ∂ÂÆÉÂàÜÊûêÂ∫ìÈÄöÂ∏∏ÊòØÈù†NumPyÁöÑÊï∞ÁªÑËÅîÁ≥ªËµ∑Êù•ÁöÑ„ÄÇÂ∞ÜDataFrameËΩ¨Êç¢‰∏∫NumPyÊï∞ÁªÑÔºåÂèØ‰ª•‰ΩøÁî®.valuesÂ±ûÊÄßÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">10</span>]: <span style="color:#000;font-weight:bold">import</span> <span style="color:#555">pandas</span> <span style="color:#000;font-weight:bold">as</span> <span style="color:#555">pd</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">11</span>]: <span style="color:#000;font-weight:bold">import</span> <span style="color:#555">numpy</span> <span style="color:#000;font-weight:bold">as</span> <span style="color:#555">np</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">12</span>]: data <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>DataFrame({
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;x0&#39;</span>: [<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">4</span>, <span style="color:#099">5</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;x1&#39;</span>: [<span style="color:#099">0.01</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>, <span style="color:#099">0.25</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.1</span>, <span style="color:#099">0.</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;y&#39;</span>: [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>, <span style="color:#099">0.</span>, <span style="color:#099">3.6</span>, <span style="color:#099">1.3</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.</span>]})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">13</span>]: data
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">13</span>]: 
</span></span><span style="display:flex;"><span>   x0    x1    y
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>   <span style="color:#099">1</span>  <span style="color:#099">0.01</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>   <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>  <span style="color:#099">0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>   <span style="color:#099">3</span>  <span style="color:#099">0.25</span>  <span style="color:#099">3.6</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>   <span style="color:#099">4</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>  <span style="color:#099">1.3</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>   <span style="color:#099">5</span>  <span style="color:#099">0.00</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">14</span>]: data<span style="color:#000;font-weight:bold">.</span>columns
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">14</span>]: Index([<span style="color:#d14">&#39;x0&#39;</span>, <span style="color:#d14">&#39;x1&#39;</span>, <span style="color:#d14">&#39;y&#39;</span>], dtype<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;object&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">15</span>]: data<span style="color:#000;font-weight:bold">.</span>values
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">15</span>]: 
</span></span><span style="display:flex;"><span>array([[ <span style="color:#099">1.</span>  ,  <span style="color:#099">0.01</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span> ],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">2.</span>  , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>,  <span style="color:#099">0.</span>  ],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">3.</span>  ,  <span style="color:#099">0.25</span>,  <span style="color:#099">3.6</span> ],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">4.</span>  , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.1</span> ,  <span style="color:#099">1.3</span> ],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">5.</span>  ,  <span style="color:#099">0.</span>  , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.</span>  ]])
</span></span></code></pre></div><p>Ë¶ÅËΩ¨Êç¢ÂõûDataFrameÔºåÂèØ‰ª•‰º†ÈÄí‰∏Ä‰∏™‰∫åÁª¥ndarrayÔºåÂèØÂ∏¶ÊúâÂàóÂêçÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">16</span>]: df2 <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>DataFrame(data<span style="color:#000;font-weight:bold">.</span>values, columns<span style="color:#000;font-weight:bold">=</span>[<span style="color:#d14">&#39;one&#39;</span>, <span style="color:#d14">&#39;two&#39;</span>, <span style="color:#d14">&#39;three&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">17</span>]: df2
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">17</span>]: 
</span></span><span style="display:flex;"><span>   one   two  three
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>  <span style="color:#099">1.0</span>  <span style="color:#099">0.01</span>   <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>  <span style="color:#099">2.0</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>    <span style="color:#099">0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>  <span style="color:#099">3.0</span>  <span style="color:#099">0.25</span>    <span style="color:#099">3.6</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>  <span style="color:#099">4.0</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>    <span style="color:#099">1.3</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>  <span style="color:#099">5.0</span>  <span style="color:#099">0.00</span>   <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>
</span></span></code></pre></div><blockquote>
<p>Á¨îËÆ∞ÔºöÊúÄÂ•ΩÂΩìÊï∞ÊçÆÊòØÂùáÂåÄÁöÑÊó∂ÂÄô‰ΩøÁî®.valuesÂ±ûÊÄß„ÄÇ‰æãÂ¶ÇÔºåÂÖ®ÊòØÊï∞ÂÄºÁ±ªÂûã„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÊòØ‰∏çÂùáÂåÄÁöÑÔºåÁªìÊûú‰ºöÊòØPythonÂØπË±°ÁöÑndarrayÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">18</span>]: df3 <span style="color:#000;font-weight:bold">=</span> data<span style="color:#000;font-weight:bold">.</span>copy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">19</span>]: df3[<span style="color:#d14">&#39;strings&#39;</span>] <span style="color:#000;font-weight:bold">=</span> [<span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>, <span style="color:#d14">&#39;c&#39;</span>, <span style="color:#d14">&#39;d&#39;</span>, <span style="color:#d14">&#39;e&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">20</span>]: df3
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">20</span>]: 
</span></span><span style="display:flex;"><span>  x0    x1    y strings
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>   <span style="color:#099">1</span>  <span style="color:#099">0.01</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>       a
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>   <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>  <span style="color:#099">0.0</span>       b
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>   <span style="color:#099">3</span>  <span style="color:#099">0.25</span>  <span style="color:#099">3.6</span>       c
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>   <span style="color:#099">4</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>  <span style="color:#099">1.3</span>       d
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>   <span style="color:#099">5</span>  <span style="color:#099">0.00</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>       e
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">21</span>]: df3<span style="color:#000;font-weight:bold">.</span>values
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">21</span>]: 
</span></span><span style="display:flex;"><span>array([[<span style="color:#099">1</span>, <span style="color:#099">0.01</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>, <span style="color:#d14">&#39;a&#39;</span>],
</span></span><span style="display:flex;"><span>      [<span style="color:#099">2</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>, <span style="color:#099">0.0</span>, <span style="color:#d14">&#39;b&#39;</span>],
</span></span><span style="display:flex;"><span>      [<span style="color:#099">3</span>, <span style="color:#099">0.25</span>, <span style="color:#099">3.6</span>, <span style="color:#d14">&#39;c&#39;</span>],
</span></span><span style="display:flex;"><span>      [<span style="color:#099">4</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.1</span>, <span style="color:#099">1.3</span>, <span style="color:#d14">&#39;d&#39;</span>],
</span></span><span style="display:flex;"><span>      [<span style="color:#099">5</span>, <span style="color:#099">0.0</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>, <span style="color:#d14">&#39;e&#39;</span>]], dtype<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">object</span>)
</span></span></code></pre></div></blockquote>
<p>ÂØπ‰∫é‰∏Ä‰∫õÊ®°ÂûãÔºå‰Ω†ÂèØËÉΩÂè™ÊÉ≥‰ΩøÁî®ÂàóÁöÑÂ≠êÈõÜ„ÄÇÊàëÂª∫ËÆÆ‰Ω†‰ΩøÁî®locÔºåÁî®values‰ΩúÁ¥¢ÂºïÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">22</span>]: model_cols <span style="color:#000;font-weight:bold">=</span> [<span style="color:#d14">&#39;x0&#39;</span>, <span style="color:#d14">&#39;x1&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">23</span>]: data<span style="color:#000;font-weight:bold">.</span>loc[:, model_cols]<span style="color:#000;font-weight:bold">.</span>values
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">23</span>]: 
</span></span><span style="display:flex;"><span>array([[ <span style="color:#099">1.</span>  ,  <span style="color:#099">0.01</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">2.</span>  , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">3.</span>  ,  <span style="color:#099">0.25</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">4.</span>  , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.1</span> ],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">5.</span>  ,  <span style="color:#099">0.</span>  ]])
</span></span></code></pre></div><p>‰∏Ä‰∫õÂ∫ìÂéüÁîüÊîØÊåÅpandasÔºå‰ºöËá™Âä®ÂÆåÊàêÂ∑•‰ΩúÔºö‰ªéDataFrameËΩ¨Êç¢Âà∞NumPyÔºåÂ∞ÜÊ®°ÂûãÁöÑÂèÇÊï∞ÂêçÊ∑ªÂä†Âà∞ËæìÂá∫Ë°®ÁöÑÂàóÊàñSeries„ÄÇÂÖ∂ÂÆÉÊÉÖÂÜµÔºå‰Ω†ÂèØ‰ª•ÊâãÂ∑•ËøõË°å‚ÄúÂÖÉÊï∞ÊçÆÁÆ°ÁêÜ‚Äù„ÄÇ</p>
<p>Âú®Á¨¨12Á´†ÔºåÊàë‰ª¨Â≠¶‰π†‰∫ÜpandasÁöÑCategoricalÁ±ªÂûãÂíåpandas.get_dummiesÂáΩÊï∞„ÄÇÂÅáËÆæÊï∞ÊçÆÈõÜ‰∏≠Êúâ‰∏Ä‰∏™ÈùûÊï∞ÂÄºÂàóÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">24</span>]: data[<span style="color:#d14">&#39;category&#39;</span>] <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>Categorical([<span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>, <span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:                                   categories<span style="color:#000;font-weight:bold">=</span>[<span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">25</span>]: data
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">25</span>]: 
</span></span><span style="display:flex;"><span>   x0    x1    y category
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>   <span style="color:#099">1</span>  <span style="color:#099">0.01</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>        a
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>   <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>  <span style="color:#099">0.0</span>        b
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>   <span style="color:#099">3</span>  <span style="color:#099">0.25</span>  <span style="color:#099">3.6</span>        a
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>   <span style="color:#099">4</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>  <span style="color:#099">1.3</span>        a
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>   <span style="color:#099">5</span>  <span style="color:#099">0.00</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>        b
</span></span></code></pre></div><p>Â¶ÇÊûúÊàë‰ª¨ÊÉ≥ÊõøÊç¢categoryÂàó‰∏∫ËôöÂèòÈáèÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫ËôöÂèòÈáèÔºåÂà†Èô§categoryÂàóÔºåÁÑ∂ÂêéÊ∑ªÂä†Âà∞ÁªìÊûúÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">26</span>]: dummies <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>get_dummies(data<span style="color:#000;font-weight:bold">.</span>category, prefix<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;category&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">27</span>]: data_with_dummies <span style="color:#000;font-weight:bold">=</span> data<span style="color:#000;font-weight:bold">.</span>drop(<span style="color:#d14">&#39;category&#39;</span>, axis<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>)<span style="color:#000;font-weight:bold">.</span>join(dummies)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">28</span>]: data_with_dummies
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">28</span>]: 
</span></span><span style="display:flex;"><span>   x0    x1    y  category_a  category_b
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>   <span style="color:#099">1</span>  <span style="color:#099">0.01</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>           <span style="color:#099">1</span>           <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>   <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>  <span style="color:#099">0.0</span>           <span style="color:#099">0</span>           <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>   <span style="color:#099">3</span>  <span style="color:#099">0.25</span>  <span style="color:#099">3.6</span>           <span style="color:#099">1</span>           <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>   <span style="color:#099">4</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>  <span style="color:#099">1.3</span>           <span style="color:#099">1</span>           <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>   <span style="color:#099">5</span>  <span style="color:#099">0.00</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>           <span style="color:#099">0</span>           <span style="color:#099">1</span>
</span></span></code></pre></div><p>Áî®ËôöÂèòÈáèÊãüÂêàÊüê‰∫õÁªüËÆ°Ê®°Âûã‰ºöÊúâ‰∏Ä‰∫õÁªÜÂæÆÂ∑ÆÂà´„ÄÇÂΩì‰Ω†‰∏çÂè™ÊúâÊï∞Â≠óÂàóÊó∂Ôºå‰ΩøÁî®PatsyÔºà‰∏ã‰∏ÄËäÇÁöÑ‰∏ªÈ¢òÔºâÂèØËÉΩÊõ¥ÁÆÄÂçïÔºåÊõ¥‰∏çÂÆπÊòìÂá∫Èîô„ÄÇ</p>
<h2 id="132-Áî®patsyÂàõÂª∫Ê®°ÂûãÊèèËø∞">13.2 Áî®PatsyÂàõÂª∫Ê®°ÂûãÊèèËø∞</h2>
<p><code>Patsy</code>ÊòØPythonÁöÑ‰∏Ä‰∏™Â∫ìÔºå‰ΩøÁî®ÁÆÄÁü≠ÁöÑÂ≠óÁ¨¶‰∏≤‚ÄúÂÖ¨ÂºèËØ≠Ê≥ï‚ÄùÊèèËø∞ÁªüËÆ°Ê®°ÂûãÔºàÂ∞§ÂÖ∂ÊòØÁ∫øÊÄßÊ®°ÂûãÔºâÔºåÂèØËÉΩÊòØÂèóÂà∞‰∫ÜRÂíåSÁªüËÆ°ÁºñÁ®ãËØ≠Ë®ÄÁöÑÂÖ¨ÂºèËØ≠Ê≥ïÁöÑÂêØÂèë„ÄÇ</p>
<p>PatsyÈÄÇÂêàÊèèËø∞statsmodelsÁöÑÁ∫øÊÄßÊ®°ÂûãÔºåÂõ†Ê≠§Êàë‰ºöÂÖ≥Ê≥®‰∫éÂÆÉÁöÑ‰∏ªË¶ÅÁâπÁÇπÔºåËÆ©‰Ω†Â∞ΩÂø´ÊéåÊè°„ÄÇPatsyÁöÑÂÖ¨ÂºèÊòØ‰∏Ä‰∏™ÁâπÊÆäÁöÑÂ≠óÁ¨¶‰∏≤ËØ≠Ê≥ïÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>y <span style="color:#000;font-weight:bold">~</span> x0 <span style="color:#000;font-weight:bold">+</span> x1
</span></span></code></pre></div><p>a+b‰∏çÊòØÂ∞Üa‰∏ébÁõ∏Âä†ÁöÑÊÑèÊÄùÔºåËÄåÊòØ‰∏∫Ê®°ÂûãÂàõÂª∫ÁöÑËÆæËÆ°Áü©Èòµ„ÄÇpatsy.dmatricesÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂÖ¨ÂºèÂ≠óÁ¨¶‰∏≤Âíå‰∏Ä‰∏™Êï∞ÊçÆÈõÜÔºàÂèØ‰ª•ÊòØDataFrameÊàñÊï∞ÁªÑÁöÑÂ≠óÂÖ∏ÔºâÔºå‰∏∫Á∫øÊÄßÊ®°ÂûãÂàõÂª∫ËÆæËÆ°Áü©ÈòµÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">29</span>]: data <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>DataFrame({
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;x0&#39;</span>: [<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">4</span>, <span style="color:#099">5</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;x1&#39;</span>: [<span style="color:#099">0.01</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>, <span style="color:#099">0.25</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.1</span>, <span style="color:#099">0.</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;y&#39;</span>: [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>, <span style="color:#099">0.</span>, <span style="color:#099">3.6</span>, <span style="color:#099">1.3</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.</span>]})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">30</span>]: data
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">30</span>]: 
</span></span><span style="display:flex;"><span>   x0    x1    y
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>   <span style="color:#099">1</span>  <span style="color:#099">0.01</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>   <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>  <span style="color:#099">0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>   <span style="color:#099">3</span>  <span style="color:#099">0.25</span>  <span style="color:#099">3.6</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>   <span style="color:#099">4</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>  <span style="color:#099">1.3</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>   <span style="color:#099">5</span>  <span style="color:#099">0.00</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">31</span>]: <span style="color:#000;font-weight:bold">import</span> <span style="color:#555">patsy</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">32</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;y ~ x0 + x1&#39;</span>, data)
</span></span></code></pre></div><p>Áé∞Âú®ÊúâÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">33</span>]: y
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">33</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">5</span>, <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>     y
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">0.0</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">3.6</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">1.3</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.0</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;y&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">34</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">34</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">5</span>, <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>  Intercept  x0     x1
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">1</span>   <span style="color:#099">0.01</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">2</span>  <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">3</span>   <span style="color:#099">0.25</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">4</span>  <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">5</span>   <span style="color:#099">0.00</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;x0&#39;</span> (column <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;x1&#39;</span> (column <span style="color:#099">2</span>)
</span></span></code></pre></div><p>Ëøô‰∫õPatsyÁöÑDesignMatrixÂÆû‰æãÊòØNumPyÁöÑndarrayÔºåÂ∏¶ÊúâÈôÑÂä†ÂÖÉÊï∞ÊçÆÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">35</span>]: np<span style="color:#000;font-weight:bold">.</span>asarray(y)
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">35</span>]: 
</span></span><span style="display:flex;"><span>array([[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.5</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">0.</span> ],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">3.6</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.3</span>],
</span></span><span style="display:flex;"><span>       [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2.</span> ]])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">36</span>]: np<span style="color:#000;font-weight:bold">.</span>asarray(X)
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">36</span>]: 
</span></span><span style="display:flex;"><span>array([[ <span style="color:#099">1.</span>  ,  <span style="color:#099">1.</span>  ,  <span style="color:#099">0.01</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>  ,  <span style="color:#099">2.</span>  , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>  ,  <span style="color:#099">3.</span>  ,  <span style="color:#099">0.25</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>  ,  <span style="color:#099">4.</span>  , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.1</span> ],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>  ,  <span style="color:#099">5.</span>  ,  <span style="color:#099">0.</span>  ]])
</span></span></code></pre></div><p>‰Ω†ÂèØËÉΩÊÉ≥InterceptÊòØÂì™ÈáåÊù•ÁöÑ„ÄÇËøôÊòØÁ∫øÊÄßÊ®°ÂûãÔºàÊØîÂ¶ÇÊôÆÈÄöÊúÄÂ∞è‰∫å‰πòÂõûÂΩíÔºâÁöÑÊÉØ‰æãÁî®Ê≥ï„ÄÇÊ∑ªÂä† +0 Âà∞Ê®°ÂûãÂèØ‰ª•‰∏çÊòæÁ§∫interceptÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">37</span>]: patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;y ~ x0 + x1 + 0&#39;</span>, data)[<span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">37</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">5</span>, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>  x0     x1
</span></span><span style="display:flex;"><span>   <span style="color:#099">1</span>   <span style="color:#099">0.01</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">2</span>  <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.01</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">3</span>   <span style="color:#099">0.25</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">4</span>  <span style="color:#000;font-weight:bold">-</span><span style="color:#099">4.10</span>
</span></span><span style="display:flex;"><span>   <span style="color:#099">5</span>   <span style="color:#099">0.00</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;x0&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;x1&#39;</span> (column <span style="color:#099">1</span>)
</span></span></code></pre></div><p>PatsyÂØπË±°ÂèØ‰ª•Áõ¥Êé•‰º†ÈÄíÂà∞ÁÆóÊ≥ïÔºàÊØîÂ¶Çnumpy.linalg.lstsqÔºâ‰∏≠ÔºåÂÆÉÊâßË°åÊôÆÈÄöÊúÄÂ∞è‰∫å‰πòÂõûÂΩíÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">38</span>]: coef, resid, _, _ <span style="color:#000;font-weight:bold">=</span> np<span style="color:#000;font-weight:bold">.</span>linalg<span style="color:#000;font-weight:bold">.</span>lstsq(X, y)
</span></span></code></pre></div><p>Ê®°ÂûãÁöÑÂÖÉÊï∞ÊçÆ‰øùÁïôÂú®design_infoÂ±ûÊÄß‰∏≠ÔºåÂõ†Ê≠§‰Ω†ÂèØ‰ª•ÈáçÊñ∞ÈôÑÂä†ÂàóÂêçÂà∞ÊãüÂêàÁ≥ªÊï∞Ôºå‰ª•Ëé∑Âæó‰∏Ä‰∏™SeriesÔºå‰æãÂ¶ÇÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">39</span>]: coef
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">39</span>]: 
</span></span><span style="display:flex;"><span>array([[ <span style="color:#099">0.3129</span>],
</span></span><span style="display:flex;"><span>       [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.0791</span>],
</span></span><span style="display:flex;"><span>       [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.2655</span>]])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">40</span>]: coef <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>Series(coef<span style="color:#000;font-weight:bold">.</span>squeeze(), index<span style="color:#000;font-weight:bold">=</span>X<span style="color:#000;font-weight:bold">.</span>design_info<span style="color:#000;font-weight:bold">.</span>column_names)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">41</span>]: coef
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">41</span>]: 
</span></span><span style="display:flex;"><span>Intercept    <span style="color:#099">0.312910</span>
</span></span><span style="display:flex;"><span>x0          <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.079106</span>
</span></span><span style="display:flex;"><span>x1          <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.265464</span>
</span></span><span style="display:flex;"><span>dtype: float64
</span></span></code></pre></div><h3 id="1321-Áî®patsyÂÖ¨ÂºèËøõË°åÊï∞ÊçÆËΩ¨Êç¢">13.2.1 Áî®PatsyÂÖ¨ÂºèËøõË°åÊï∞ÊçÆËΩ¨Êç¢</h3>
<p>‰Ω†ÂèØ‰ª•Â∞ÜPython‰ª£Á†Å‰∏épatsyÂÖ¨ÂºèÁªìÂêà„ÄÇÂú®ËØÑ‰º∞ÂÖ¨ÂºèÊó∂ÔºåÂ∫ìÂ∞ÜÂ∞ùËØïÊü•ÊâæÂú®Â∞ÅÈó≠‰ΩúÁî®ÂüüÂÜÖ‰ΩøÁî®ÁöÑÂáΩÊï∞Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">42</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;y ~ x0 + np.log(np.abs(x1) + 1)&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">43</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">43</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">5</span>, <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>  Intercept  x0  np<span style="color:#000;font-weight:bold">.</span>log(np<span style="color:#000;font-weight:bold">.</span>abs(x1) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">1</span>                 <span style="color:#099">0.00995</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">2</span>                 <span style="color:#099">0.00995</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">3</span>                 <span style="color:#099">0.22314</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">4</span>                 <span style="color:#099">1.62924</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>   <span style="color:#099">5</span>                 <span style="color:#099">0.00000</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;x0&#39;</span> (column <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;np.log(np.abs(x1) + 1)&#39;</span> (column <span style="color:#099">2</span>)
</span></span></code></pre></div><p>Â∏∏ËßÅÁöÑÂèòÈáèËΩ¨Êç¢ÂåÖÊã¨Ê†áÂáÜÂåñÔºàÂπ≥ÂùáÂÄº‰∏∫0ÔºåÊñπÂ∑Æ‰∏∫1ÔºâÂíå‰∏≠ÂøÉÂåñÔºàÂáèÂéªÂπ≥ÂùáÂÄºÔºâ„ÄÇPatsyÊúâÂÜÖÁΩÆÁöÑÂáΩÊï∞ËøõË°åËøôÊ†∑ÁöÑÂ∑•‰ΩúÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">44</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;y ~ standardize(x0) + center(x1)&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">45</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">45</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">5</span>, <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>  Intercept  standardize(x0)  center(x1)
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>         <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.41421</span>        <span style="color:#099">0.78</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>         <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.70711</span>        <span style="color:#099">0.76</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0.00000</span>        <span style="color:#099">1.02</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0.70711</span>       <span style="color:#000;font-weight:bold">-</span><span style="color:#099">3.33</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1.41421</span>        <span style="color:#099">0.77</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;standardize(x0)&#39;</span> (column <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;center(x1)&#39;</span> (column <span style="color:#099">2</span>)
</span></span></code></pre></div><p>‰Ωú‰∏∫Âª∫Ê®°ÁöÑ‰∏ÄÊ≠•Ôºå‰Ω†ÂèØËÉΩÊãüÂêàÊ®°ÂûãÂà∞‰∏Ä‰∏™Êï∞ÊçÆÈõÜÔºåÁÑ∂ÂêéÁî®Âè¶‰∏Ä‰∏™Êï∞ÊçÆÈõÜËØÑ‰º∞Ê®°Âûã„ÄÇÂè¶‰∏Ä‰∏™Êï∞ÊçÆÈõÜÂèØËÉΩÊòØÂâ©‰ΩôÁöÑÈÉ®ÂàÜÊàñÊòØÊñ∞Êï∞ÊçÆ„ÄÇÂΩìÊâßË°å‰∏≠ÂøÉÂåñÂíåÊ†áÂáÜÂåñËΩ¨ÂèòÔºåÁî®Êñ∞Êï∞ÊçÆËøõË°åÈ¢ÑÊµãË¶ÅÊ†ºÂ§ñÂ∞èÂøÉ„ÄÇÂõ†‰∏∫‰Ω†ÂøÖÈ°ª‰ΩøÁî®Âπ≥ÂùáÂÄºÊàñÊ†áÂáÜÂ∑ÆËΩ¨Êç¢Êñ∞Êï∞ÊçÆÈõÜÔºåËøô‰πüÁß∞‰ΩúÁä∂ÊÄÅËΩ¨Êç¢„ÄÇ</p>
<p>patsy.build_design_matricesÂáΩÊï∞ÂèØ‰ª•‰ΩøÁî®ÂéüÂßãÊ†∑Êú¨Êï∞ÊçÆÈõÜÁöÑ‰øùÂ≠ò‰ø°ÊÅØÔºåÊù•ËΩ¨Êç¢Êñ∞Êï∞ÊçÆÔºåÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">46</span>]: new_data <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>DataFrame({
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;x0&#39;</span>: [<span style="color:#099">6</span>, <span style="color:#099">7</span>, <span style="color:#099">8</span>, <span style="color:#099">9</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;x1&#39;</span>: [<span style="color:#099">3.1</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.5</span>, <span style="color:#099">0</span>, <span style="color:#099">2.3</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;y&#39;</span>: [<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">4</span>]})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">47</span>]: new_X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>build_design_matrices([X<span style="color:#000;font-weight:bold">.</span>design_info], new_data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">48</span>]: new_X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">48</span>]: 
</span></span><span style="display:flex;"><span>[DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">4</span>, <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>   Intercept  standardize(x0)  center(x1)
</span></span><span style="display:flex;"><span>           <span style="color:#099">1</span>          <span style="color:#099">2.12132</span>        <span style="color:#099">3.87</span>
</span></span><span style="display:flex;"><span>           <span style="color:#099">1</span>          <span style="color:#099">2.82843</span>        <span style="color:#099">0.27</span>
</span></span><span style="display:flex;"><span>           <span style="color:#099">1</span>          <span style="color:#099">3.53553</span>        <span style="color:#099">0.77</span>
</span></span><span style="display:flex;"><span>           <span style="color:#099">1</span>          <span style="color:#099">4.24264</span>        <span style="color:#099">3.07</span>
</span></span><span style="display:flex;"><span>   Terms:
</span></span><span style="display:flex;"><span>     <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>     <span style="color:#d14">&#39;standardize(x0)&#39;</span> (column <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>     <span style="color:#d14">&#39;center(x1)&#39;</span> (column <span style="color:#099">2</span>)]
</span></span></code></pre></div><p>Âõ†‰∏∫Patsy‰∏≠ÁöÑÂä†Âè∑‰∏çÊòØÂä†Ê≥ïÁöÑÊÑè‰πâÔºåÂΩì‰Ω†ÊåâÁÖßÂêçÁß∞Â∞ÜÊï∞ÊçÆÈõÜÁöÑÂàóÁõ∏Âä†Êó∂Ôºå‰Ω†ÂøÖÈ°ªÁî®ÁâπÊÆäIÂáΩÊï∞Â∞ÜÂÆÉ‰ª¨Â∞ÅË£ÖËµ∑Êù•Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">49</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;y ~ I(x0 + x1)&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">50</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">50</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">5</span>, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>  Intercept  I(x0 <span style="color:#000;font-weight:bold">+</span> x1)
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>        <span style="color:#099">1.01</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>        <span style="color:#099">1.99</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>        <span style="color:#099">3.25</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>       <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.10</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>        <span style="color:#099">5.00</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;I(x0 + x1)&#39;</span> (column <span style="color:#099">1</span>)
</span></span></code></pre></div><p>PatsyÁöÑpatsy.builtinsÊ®°ÂùóËøòÊúâ‰∏Ä‰∫õÂÖ∂ÂÆÉÁöÑÂÜÖÁΩÆËΩ¨Êç¢„ÄÇËØ∑Êü•ÁúãÁ∫ø‰∏äÊñáÊ°£„ÄÇ</p>
<p>ÂàÜÁ±ªÊï∞ÊçÆÊúâ‰∏Ä‰∏™ÁâπÊÆäÁöÑËΩ¨Êç¢Á±ªÔºå‰∏ãÈù¢ËøõË°åËÆ≤Ëß£„ÄÇ</p>
<h3 id="1322-ÂàÜÁ±ªÊï∞ÊçÆÂíåpatsy">13.2.2 ÂàÜÁ±ªÊï∞ÊçÆÂíåPatsy</h3>
<p>ÈùûÊï∞ÂÄºÊï∞ÊçÆÂèØ‰ª•Áî®Â§öÁßçÊñπÂºèËΩ¨Êç¢‰∏∫Ê®°ÂûãËÆæËÆ°Áü©Èòµ„ÄÇÂÆåÊï¥ÁöÑËÆ≤Ëß£Ë∂ÖÂá∫‰∫ÜÊú¨‰π¶ËåÉÂõ¥ÔºåÊúÄÂ•ΩÂíåÁªüËÆ°ËØæ‰∏ÄËµ∑Â≠¶‰π†„ÄÇ</p>
<p>ÂΩì‰Ω†Âú®PatsyÂÖ¨Âºè‰∏≠‰ΩøÁî®ÈùûÊï∞ÂÄºÊï∞ÊçÆÔºåÂÆÉ‰ª¨‰ºöÈªòËÆ§ËΩ¨Êç¢‰∏∫ËôöÂèòÈáè„ÄÇÂ¶ÇÊûúÊúâÊà™Ë∑ùÔºå‰ºöÂéªÊéâ‰∏Ä‰∏™ÔºåÈÅøÂÖçÂÖ±Á∫øÊÄßÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">51</span>]: data <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>DataFrame({
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;key1&#39;</span>: [<span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>, <span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>, <span style="color:#d14">&#39;a&#39;</span>, <span style="color:#d14">&#39;b&#39;</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;key2&#39;</span>: [<span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#099">0</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;v1&#39;</span>: [<span style="color:#099">1</span>, <span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">4</span>, <span style="color:#099">5</span>, <span style="color:#099">6</span>, <span style="color:#099">7</span>, <span style="color:#099">8</span>],
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>:     <span style="color:#d14">&#39;v2&#39;</span>: [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#099">2.5</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.5</span>, <span style="color:#099">4.0</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.2</span>, <span style="color:#099">0.2</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.7</span>]
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">....</span>: })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">52</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;v2 ~ key1&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">53</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">53</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">8</span>, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>  Intercept  key1[T<span style="color:#000;font-weight:bold">.</span>b]
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;key1&#39;</span> (column <span style="color:#099">1</span>)
</span></span></code></pre></div><p>Â¶ÇÊûú‰Ω†‰ªéÊ®°Âûã‰∏≠ÂøΩÁï•Êà™Ë∑ùÔºåÊØè‰∏™ÂàÜÁ±ªÂÄºÁöÑÂàóÈÉΩ‰ºöÂåÖÊã¨Âú®ËÆæËÆ°Áü©ÈòµÁöÑÊ®°Âûã‰∏≠Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">54</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;v2 ~ key1 + 0&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">55</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">55</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">8</span>, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>  key1[a]  key1[b]
</span></span><span style="display:flex;"><span>        <span style="color:#099">1</span>        <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#099">1</span>        <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#099">0</span>        <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#099">0</span>        <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#099">1</span>        <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#099">0</span>        <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#099">1</span>        <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#099">0</span>        <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;key1&#39;</span> (columns <span style="color:#099">0</span>:<span style="color:#099">2</span>)
</span></span></code></pre></div><p>‰ΩøÁî®CÂáΩÊï∞ÔºåÊï∞ÂÄºÂàóÂèØ‰ª•Êà™Âèñ‰∏∫ÂàÜÁ±ªÈáèÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">56</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;v2 ~ C(key2)&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">57</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">57</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">8</span>, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>  Intercept  C(key2)[T<span style="color:#099">.1</span>]
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;C(key2)&#39;</span> (column <span style="color:#099">1</span>)
</span></span></code></pre></div><p>ÂΩì‰Ω†Âú®Ê®°Âûã‰∏≠‰ΩøÁî®Â§ö‰∏™ÂàÜÁ±ªÂêçÔºå‰∫ãÊÉÖÂ∞±‰ºöÂèòÂ§çÊùÇÔºåÂõ†‰∏∫‰ºöÂåÖÊã¨key1:key2ÂΩ¢ÂºèÁöÑÁõ∏‰∫§ÈÉ®ÂàÜÔºåÂÆÉÂèØ‰ª•Áî®Âú®ÊñπÂ∑ÆÔºàANOVAÔºâÊ®°ÂûãÂàÜÊûê‰∏≠Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">58</span>]: data[<span style="color:#d14">&#39;key2&#39;</span>] <span style="color:#000;font-weight:bold">=</span> data[<span style="color:#d14">&#39;key2&#39;</span>]<span style="color:#000;font-weight:bold">.</span>map({<span style="color:#099">0</span>: <span style="color:#d14">&#39;zero&#39;</span>, <span style="color:#099">1</span>: <span style="color:#d14">&#39;one&#39;</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">59</span>]: data
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">59</span>]: 
</span></span><span style="display:flex;"><span>  key1  key2  v1   v2
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>    a  zero   <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>    a   one   <span style="color:#099">2</span>  <span style="color:#099">0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>    b  zero   <span style="color:#099">3</span>  <span style="color:#099">2.5</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>    b   one   <span style="color:#099">4</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.5</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>    a  zero   <span style="color:#099">5</span>  <span style="color:#099">4.0</span>
</span></span><span style="display:flex;"><span><span style="color:#099">5</span>    b   one   <span style="color:#099">6</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.2</span>
</span></span><span style="display:flex;"><span><span style="color:#099">6</span>    a  zero   <span style="color:#099">7</span>  <span style="color:#099">0.2</span>
</span></span><span style="display:flex;"><span><span style="color:#099">7</span>    b  zero   <span style="color:#099">8</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.7</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">60</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;v2 ~ key1 + key2&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">61</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">61</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">8</span>, <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>  Intercept  key1[T<span style="color:#000;font-weight:bold">.</span>b]  key2[T<span style="color:#000;font-weight:bold">.</span>zero]
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;key1&#39;</span> (column <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;key2&#39;</span> (column <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">62</span>]: y, X <span style="color:#000;font-weight:bold">=</span> patsy<span style="color:#000;font-weight:bold">.</span>dmatrices(<span style="color:#d14">&#39;v2 ~ key1 + key2 + key1:key2&#39;</span>, data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">63</span>]: X
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">63</span>]: 
</span></span><span style="display:flex;"><span>DesignMatrix <span style="color:#000;font-weight:bold">with</span> shape (<span style="color:#099">8</span>, <span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>  Intercept  key1[T<span style="color:#000;font-weight:bold">.</span>b]  key2[T<span style="color:#000;font-weight:bold">.</span>zero]
</span></span><span style="display:flex;"><span>key1[T<span style="color:#000;font-weight:bold">.</span>b]:key2[T<span style="color:#000;font-weight:bold">.</span>zero]
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">1</span>                       <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">0</span>                       <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">1</span>                       <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>                       <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">1</span>                       <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">0</span>                       <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">0</span>             <span style="color:#099">1</span>                       <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#099">1</span>          <span style="color:#099">1</span>             <span style="color:#099">1</span>                       <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>  Terms:
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;Intercept&#39;</span> (column <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;key1&#39;</span> (column <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;key2&#39;</span> (column <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#39;key1:key2&#39;</span> (column <span style="color:#099">3</span>)
</span></span></code></pre></div><p>PatsyÊèê‰æõËΩ¨Êç¢ÂàÜÁ±ªÊï∞ÊçÆÁöÑÂÖ∂ÂÆÉÊñπÊ≥ïÔºåÂåÖÊã¨‰ª•ÁâπÂÆöÈ°∫Â∫èËΩ¨Êç¢„ÄÇËØ∑ÂèÇÈòÖÁ∫ø‰∏äÊñáÊ°£„ÄÇ</p>
<h2 id="133-statsmodels‰ªãÁªç">13.3 statsmodels‰ªãÁªç</h2>
<p>statsmodelsÊòØPythonËøõË°åÊãüÂêàÂ§öÁßçÁªüËÆ°Ê®°Âûã„ÄÅËøõË°åÁªüËÆ°ËØïÈ™åÂíåÊï∞ÊçÆÊé¢Á¥¢ÂèØËßÜÂåñÁöÑÂ∫ì„ÄÇStatsmodelsÂåÖÂê´ËÆ∏Â§öÁªèÂÖ∏ÁöÑÁªüËÆ°ÊñπÊ≥ïÔºå‰ΩÜÊ≤°ÊúâË¥ùÂè∂ÊñØÊñπÊ≥ïÂíåÊú∫Âô®Â≠¶‰π†Ê®°Âûã„ÄÇ</p>
<p>statsmodelsÂåÖÂê´ÁöÑÊ®°ÂûãÊúâÔºö</p>
<ul>
<li>Á∫øÊÄßÊ®°ÂûãÔºåÂπø‰πâÁ∫øÊÄßÊ®°ÂûãÂíåÂÅ•Â£ÆÁ∫øÊÄßÊ®°Âûã</li>
<li>Á∫øÊÄßÊ∑∑ÂêàÊïàÂ∫îÊ®°Âûã</li>
<li>ÊñπÂ∑ÆÔºàANOVAÔºâÊñπÊ≥ïÂàÜÊûê</li>
<li>Êó∂Èó¥Â∫èÂàóËøáÁ®ãÂíåÁä∂ÊÄÅÁ©∫Èó¥Ê®°Âûã</li>
<li>Âπø‰πâÁü©‰º∞ËÆ°</li>
</ul>
<p>‰∏ãÈù¢ÔºåÊàë‰ºö‰ΩøÁî®‰∏Ä‰∫õÂü∫Êú¨ÁöÑstatsmodelsÂ∑•ÂÖ∑ÔºåÊé¢Á¥¢PatsyÂÖ¨ÂºèÂíåpandasDataFrameÂØπË±°Â¶Ç‰Ωï‰ΩøÁî®Ê®°ÂûãÊé•Âè£„ÄÇ</p>
<h3 id="1331-‰º∞ËÆ°Á∫øÊÄßÊ®°Âûã">13.3.1 ‰º∞ËÆ°Á∫øÊÄßÊ®°Âûã</h3>
<p>statsmodelsÊúâÂ§öÁßçÁ∫øÊÄßÂõûÂΩíÊ®°ÂûãÔºåÂåÖÊã¨‰ªéÂü∫Êú¨ÔºàÊØîÂ¶ÇÊôÆÈÄöÊúÄÂ∞è‰∫å‰πòÔºâÂà∞Â§çÊùÇÔºàÊØîÂ¶ÇËø≠‰ª£Âä†ÊùÉÊúÄÂ∞è‰∫å‰πòÊ≥ïÔºâÁöÑ„ÄÇ</p>
<p>statsmodelsÁöÑÁ∫øÊÄßÊ®°ÂûãÊúâ‰∏§Áßç‰∏çÂêåÁöÑÊé•Âè£ÔºöÂü∫‰∫éÊï∞ÁªÑÂíåÂü∫‰∫éÂÖ¨Âºè„ÄÇÂÆÉ‰ª¨ÂèØ‰ª•ÈÄöËøáAPIÊ®°ÂùóÂºïÂÖ•Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">statsmodels.api</span> <span style="color:#000;font-weight:bold">as</span> <span style="color:#555">sm</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">statsmodels.formula.api</span> <span style="color:#000;font-weight:bold">as</span> <span style="color:#555">smf</span>
</span></span></code></pre></div><p>‰∏∫‰∫ÜÂ±ïÁ§∫ÂÆÉ‰ª¨ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºåÊàë‰ª¨‰ªé‰∏Ä‰∫õÈöèÊú∫Êï∞ÊçÆÁîüÊàê‰∏Ä‰∏™Á∫øÊÄßÊ®°ÂûãÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">dnorm</span>(mean, variance, size<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">isinstance</span>(size, <span style="color:#0086b3">int</span>):
</span></span><span style="display:flex;"><span>        size <span style="color:#000;font-weight:bold">=</span> size,
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> mean <span style="color:#000;font-weight:bold">+</span> np<span style="color:#000;font-weight:bold">.</span>sqrt(variance) <span style="color:#000;font-weight:bold">*</span> np<span style="color:#000;font-weight:bold">.</span>random<span style="color:#000;font-weight:bold">.</span>randn(<span style="color:#000;font-weight:bold">*</span>size)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># For reproducibility</span>
</span></span><span style="display:flex;"><span>np<span style="color:#000;font-weight:bold">.</span>random<span style="color:#000;font-weight:bold">.</span>seed(<span style="color:#099">12345</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>N <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">100</span>
</span></span><span style="display:flex;"><span>X <span style="color:#000;font-weight:bold">=</span> np<span style="color:#000;font-weight:bold">.</span>c_[dnorm(<span style="color:#099">0</span>, <span style="color:#099">0.4</span>, size<span style="color:#000;font-weight:bold">=</span>N),
</span></span><span style="display:flex;"><span>          dnorm(<span style="color:#099">0</span>, <span style="color:#099">0.6</span>, size<span style="color:#000;font-weight:bold">=</span>N),
</span></span><span style="display:flex;"><span>          dnorm(<span style="color:#099">0</span>, <span style="color:#099">0.2</span>, size<span style="color:#000;font-weight:bold">=</span>N)]
</span></span><span style="display:flex;"><span>eps <span style="color:#000;font-weight:bold">=</span> dnorm(<span style="color:#099">0</span>, <span style="color:#099">0.1</span>, size<span style="color:#000;font-weight:bold">=</span>N)
</span></span><span style="display:flex;"><span>beta <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">0.1</span>, <span style="color:#099">0.3</span>, <span style="color:#099">0.5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>y <span style="color:#000;font-weight:bold">=</span> np<span style="color:#000;font-weight:bold">.</span>dot(X, beta) <span style="color:#000;font-weight:bold">+</span> eps
</span></span></code></pre></div><p>ËøôÈáåÔºåÊàë‰ΩøÁî®‰∫Ü‚ÄúÁúüÂÆû‚ÄùÊ®°ÂûãÂíåÂèØÁü•ÂèÇÊï∞beta„ÄÇÊ≠§Êó∂ÔºådnormÂèØÁî®Êù•ÁîüÊàêÊ≠£ÊÄÅÂàÜÂ∏ÉÊï∞ÊçÆÔºåÂ∏¶ÊúâÁâπÂÆöÂùáÂÄºÂíåÊñπÂ∑Æ„ÄÇÁé∞Âú®ÊúâÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">66</span>]: X[:<span style="color:#099">5</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">66</span>]: 
</span></span><span style="display:flex;"><span>array([[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.1295</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.2128</span>,  <span style="color:#099">0.5042</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">0.3029</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.4357</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.2542</span>],
</span></span><span style="display:flex;"><span>       [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.3285</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.0253</span>,  <span style="color:#099">0.1384</span>],
</span></span><span style="display:flex;"><span>       [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.3515</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.7196</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.2582</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.2433</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.3738</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.5226</span>]])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">67</span>]: y[:<span style="color:#099">5</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">67</span>]: array([ <span style="color:#099">0.4279</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.6735</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.0909</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.4895</span>,<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.1289</span>])
</span></span></code></pre></div><p>ÂÉè‰πãÂâçPatsyÁúãÂà∞ÁöÑÔºåÁ∫øÊÄßÊ®°ÂûãÈÄöÂ∏∏Ë¶ÅÊãüÂêà‰∏Ä‰∏™Êà™Ë∑ù„ÄÇsm.add_constantÂáΩÊï∞ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™Êà™Ë∑ùÁöÑÂàóÂà∞Áé∞Â≠òÁöÑÁü©ÈòµÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">68</span>]: X_model <span style="color:#000;font-weight:bold">=</span> sm<span style="color:#000;font-weight:bold">.</span>add_constant(X)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">69</span>]: X_model[:<span style="color:#099">5</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">69</span>]: 
</span></span><span style="display:flex;"><span>array([[ <span style="color:#099">1.</span>    , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.1295</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.2128</span>,  <span style="color:#099">0.5042</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>    ,  <span style="color:#099">0.3029</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.4357</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.2542</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>    , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.3285</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.0253</span>,  <span style="color:#099">0.1384</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>    , <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.3515</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.7196</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.2582</span>],
</span></span><span style="display:flex;"><span>       [ <span style="color:#099">1.</span>    ,  <span style="color:#099">1.2433</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.3738</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.5226</span>]])
</span></span></code></pre></div><p>sm.OLSÁ±ªÂèØ‰ª•ÊãüÂêà‰∏Ä‰∏™ÊôÆÈÄöÊúÄÂ∞è‰∫å‰πòÂõûÂΩíÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">70</span>]: model <span style="color:#000;font-weight:bold">=</span> sm<span style="color:#000;font-weight:bold">.</span>OLS(y, X)
</span></span></code></pre></div><p>Ëøô‰∏™Ê®°ÂûãÁöÑfitÊñπÊ≥ïËøîÂõû‰∫Ü‰∏Ä‰∏™ÂõûÂΩíÁªìÊûúÂØπË±°ÔºåÂÆÉÂåÖÂê´‰º∞ËÆ°ÁöÑÊ®°ÂûãÂèÇÊï∞ÂíåÂÖ∂ÂÆÉÂÜÖÂÆπÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">71</span>]: results <span style="color:#000;font-weight:bold">=</span> model<span style="color:#000;font-weight:bold">.</span>fit()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">72</span>]: results<span style="color:#000;font-weight:bold">.</span>params
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">72</span>]: array([ <span style="color:#099">0.1783</span>,  <span style="color:#099">0.223</span> ,  <span style="color:#099">0.501</span> ])
</span></span></code></pre></div><p>ÂØπÁªìÊûú‰ΩøÁî®summaryÊñπÊ≥ïÂèØ‰ª•ÊâìÂç∞Ê®°ÂûãÁöÑËØ¶ÁªÜËØäÊñ≠ÁªìÊûúÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">73</span>]: <span style="color:#0086b3">print</span>(results<span style="color:#000;font-weight:bold">.</span>summary())
</span></span><span style="display:flex;"><span>OLS Regression Results                            
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">==============================================================================</span>
</span></span><span style="display:flex;"><span>Dep<span style="color:#000;font-weight:bold">.</span> Variable:                      y   R<span style="color:#000;font-weight:bold">-</span>squared:                       <span style="color:#099">0.430</span>
</span></span><span style="display:flex;"><span>Model:                            OLS   Adj<span style="color:#000;font-weight:bold">.</span> R<span style="color:#000;font-weight:bold">-</span>squared:                  <span style="color:#099">0.413</span>
</span></span><span style="display:flex;"><span>Method:                 Least Squares   F<span style="color:#000;font-weight:bold">-</span>statistic:                     <span style="color:#099">24.42</span>
</span></span><span style="display:flex;"><span>Date:                Mon, <span style="color:#099">25</span> Sep <span style="color:#099">2017</span>   Prob (F<span style="color:#000;font-weight:bold">-</span>statistic):           <span style="color:#099">7.44e-12</span>
</span></span><span style="display:flex;"><span>Time:                        <span style="color:#099">14</span>:<span style="color:#099">06</span>:<span style="color:#099">15</span>   Log<span style="color:#000;font-weight:bold">-</span>Likelihood:                <span style="color:#000;font-weight:bold">-</span><span style="color:#099">34.305</span>
</span></span><span style="display:flex;"><span>No<span style="color:#000;font-weight:bold">.</span> Observations:                 <span style="color:#099">100</span>   AIC:                             <span style="color:#099">74.61</span>
</span></span><span style="display:flex;"><span>Df Residuals:                      <span style="color:#099">97</span>   BIC:                             <span style="color:#099">82.42</span>
</span></span><span style="display:flex;"><span>Df Model:                           <span style="color:#099">3</span>                                         
</span></span><span style="display:flex;"><span>Covariance Type:            nonrobust                                         
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">==============================================================================</span>
</span></span><span style="display:flex;"><span>                 coef    std err          t      P<span style="color:#000;font-weight:bold">&gt;|</span>t<span style="color:#000;font-weight:bold">|</span>      [<span style="color:#099">0.025</span>      <span style="color:#099">0.975</span>]
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">------------------------------------------------------------------------------</span>
</span></span><span style="display:flex;"><span>x1             <span style="color:#099">0.1783</span>      <span style="color:#099">0.053</span>      <span style="color:#099">3.364</span>      <span style="color:#099">0.001</span>       <span style="color:#099">0.073</span>       <span style="color:#099">0.283</span>
</span></span><span style="display:flex;"><span>x2             <span style="color:#099">0.2230</span>      <span style="color:#099">0.046</span>      <span style="color:#099">4.818</span>      <span style="color:#099">0.000</span>       <span style="color:#099">0.131</span>       <span style="color:#099">0.315</span>
</span></span><span style="display:flex;"><span>x3             <span style="color:#099">0.5010</span>      <span style="color:#099">0.080</span>      <span style="color:#099">6.237</span>      <span style="color:#099">0.000</span>       <span style="color:#099">0.342</span>       <span style="color:#099">0.660</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">==============================================================================</span>
</span></span><span style="display:flex;"><span>Omnibus:                        <span style="color:#099">4.662</span>   Durbin<span style="color:#000;font-weight:bold">-</span>Watson:                   <span style="color:#099">2.201</span>
</span></span><span style="display:flex;"><span>Prob(Omnibus):                  <span style="color:#099">0.097</span>   Jarque<span style="color:#000;font-weight:bold">-</span>Bera (JB):                <span style="color:#099">4.098</span>
</span></span><span style="display:flex;"><span>Skew:                           <span style="color:#099">0.481</span>   Prob(JB):                        <span style="color:#099">0.129</span>
</span></span><span style="display:flex;"><span>Kurtosis:                       <span style="color:#099">3.243</span>   Cond<span style="color:#000;font-weight:bold">.</span> No<span style="color:#000;font-weight:bold">.</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1.74</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">==============================================================================</span>
</span></span><span style="display:flex;"><span>Warnings:
</span></span><span style="display:flex;"><span>[<span style="color:#099">1</span>] Standard Errors assume that the covariance matrix of the errors <span style="color:#000;font-weight:bold">is</span> correctly 
</span></span><span style="display:flex;"><span>specified<span style="color:#000;font-weight:bold">.</span>
</span></span></code></pre></div><p>ËøôÈáåÁöÑÂèÇÊï∞Âêç‰∏∫ÈÄöÁî®Âêçx1, x2Á≠âÁ≠â„ÄÇÂÅáËÆæÊâÄÊúâÁöÑÊ®°ÂûãÂèÇÊï∞ÈÉΩÂú®‰∏Ä‰∏™DataFrame‰∏≠Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">74</span>]: data <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>DataFrame(X, columns<span style="color:#000;font-weight:bold">=</span>[<span style="color:#d14">&#39;col0&#39;</span>, <span style="color:#d14">&#39;col1&#39;</span>, <span style="color:#d14">&#39;col2&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">75</span>]: data[<span style="color:#d14">&#39;y&#39;</span>] <span style="color:#000;font-weight:bold">=</span> y
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">76</span>]: data[:<span style="color:#099">5</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">76</span>]: 
</span></span><span style="display:flex;"><span>       col0      col1      col2         y
</span></span><span style="display:flex;"><span><span style="color:#099">0</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.129468</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1.212753</span>  <span style="color:#099">0.504225</span>  <span style="color:#099">0.427863</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>  <span style="color:#099">0.302910</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.435742</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.254180</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.673480</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.328522</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.025302</span>  <span style="color:#099">0.138351</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.090878</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.351475</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.719605</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.258215</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.489494</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>  <span style="color:#099">1.243269</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.373799</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.522629</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.128941</span>
</span></span></code></pre></div><p>Áé∞Âú®ÔºåÊàë‰ª¨‰ΩøÁî®statsmodelsÁöÑÂÖ¨ÂºèAPIÂíåPatsyÁöÑÂÖ¨ÂºèÂ≠óÁ¨¶‰∏≤Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">77</span>]: results <span style="color:#000;font-weight:bold">=</span> smf<span style="color:#000;font-weight:bold">.</span>ols(<span style="color:#d14">&#39;y ~ col0 + col1 + col2&#39;</span>, data<span style="color:#000;font-weight:bold">=</span>data)<span style="color:#000;font-weight:bold">.</span>fit()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">78</span>]: results<span style="color:#000;font-weight:bold">.</span>params
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">78</span>]: 
</span></span><span style="display:flex;"><span>Intercept    <span style="color:#099">0.033559</span>
</span></span><span style="display:flex;"><span>col0         <span style="color:#099">0.176149</span>
</span></span><span style="display:flex;"><span>col1         <span style="color:#099">0.224826</span>
</span></span><span style="display:flex;"><span>col2         <span style="color:#099">0.514808</span>
</span></span><span style="display:flex;"><span>dtype: float64
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">79</span>]: results<span style="color:#000;font-weight:bold">.</span>tvalues
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">79</span>]: 
</span></span><span style="display:flex;"><span>Intercept    <span style="color:#099">0.952188</span>
</span></span><span style="display:flex;"><span>col0         <span style="color:#099">3.319754</span>
</span></span><span style="display:flex;"><span>col1         <span style="color:#099">4.850730</span>
</span></span><span style="display:flex;"><span>col2         <span style="color:#099">6.303971</span>
</span></span><span style="display:flex;"><span>dtype: float64
</span></span></code></pre></div><p>ËßÇÂØü‰∏ãstatsmodelsÊòØÂ¶Ç‰ΩïËøîÂõûSeriesÁªìÊûúÁöÑÔºåÈôÑÂ∏¶ÊúâDataFrameÁöÑÂàóÂêç„ÄÇÂΩì‰ΩøÁî®ÂÖ¨ÂºèÂíåpandasÂØπË±°Êó∂ÔºåÊàë‰ª¨‰∏çÈúÄË¶Å‰ΩøÁî®add_constant„ÄÇ</p>
<p>ÁªôÂá∫‰∏Ä‰∏™Ê†∑Êú¨Â§ñÊï∞ÊçÆÔºå‰Ω†ÂèØ‰ª•Ê†πÊçÆ‰º∞ËÆ°ÁöÑÊ®°ÂûãÂèÇÊï∞ËÆ°ÁÆóÈ¢ÑÊµãÂÄºÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">80</span>]: results<span style="color:#000;font-weight:bold">.</span>predict(data[:<span style="color:#099">5</span>])
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">80</span>]: 
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>   <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.002327</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>   <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.141904</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>    <span style="color:#099">0.041226</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>   <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.323070</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>   <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.100535</span>
</span></span><span style="display:flex;"><span>dtype: float64
</span></span></code></pre></div><p>statsmodelsÁöÑÁ∫øÊÄßÊ®°ÂûãÁªìÊûúËøòÊúâÂÖ∂ÂÆÉÁöÑÂàÜÊûê„ÄÅËØäÊñ≠ÂíåÂèØËßÜÂåñÂ∑•ÂÖ∑„ÄÇÈô§‰∫ÜÊôÆÈÄöÊúÄÂ∞è‰∫å‰πòÊ®°ÂûãÔºåËøòÊúâÂÖ∂ÂÆÉÁöÑÁ∫øÊÄßÊ®°Âûã„ÄÇ</p>
<h3 id="1332-‰º∞ËÆ°Êó∂Èó¥Â∫èÂàóËøáÁ®ã">13.3.2 ‰º∞ËÆ°Êó∂Èó¥Â∫èÂàóËøáÁ®ã</h3>
<p>statsmodelsÁöÑÂè¶‰∏ÄÊ®°ÂûãÁ±ªÊòØËøõË°åÊó∂Èó¥Â∫èÂàóÂàÜÊûêÔºåÂåÖÊã¨Ëá™ÂõûÂΩíËøáÁ®ã„ÄÅÂç°Â∞îÊõºÊª§Ê≥¢ÂíåÂÖ∂ÂÆÉÊÄÅÁ©∫Èó¥Ê®°ÂûãÔºåÂíåÂ§öÂÖÉËá™ÂõûÂΩíÊ®°Âûã„ÄÇ</p>
<p>Áî®Ëá™ÂõûÂΩíÁªìÊûÑÂíåÂô™Â£∞Êù•Ê®°Êãü‰∏Ä‰∫õÊó∂Èó¥Â∫èÂàóÊï∞ÊçÆÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>init_x <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">random</span>
</span></span><span style="display:flex;"><span>values <span style="color:#000;font-weight:bold">=</span> [init_x, init_x]
</span></span><span style="display:flex;"><span>N <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b0 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0.8</span>
</span></span><span style="display:flex;"><span>b1 <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.4</span>
</span></span><span style="display:flex;"><span>noise <span style="color:#000;font-weight:bold">=</span> dnorm(<span style="color:#099">0</span>, <span style="color:#099">0.1</span>, N)
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(N):
</span></span><span style="display:flex;"><span>    new_x <span style="color:#000;font-weight:bold">=</span> values[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">*</span> b0 <span style="color:#000;font-weight:bold">+</span> values[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>] <span style="color:#000;font-weight:bold">*</span> b1 <span style="color:#000;font-weight:bold">+</span> noise[i]
</span></span><span style="display:flex;"><span>    values<span style="color:#000;font-weight:bold">.</span>append(new_x)
</span></span></code></pre></div><p>Ëøô‰∏™Êï∞ÊçÆÊúâAR(2)ÁªìÊûÑÔºà‰∏§‰∏™Âª∂ËøüÔºâÔºåÂèÇÊï∞ÊòØ0.8Âíå-0.4„ÄÇÊãüÂêàARÊ®°ÂûãÊó∂Ôºå‰Ω†ÂèØËÉΩ‰∏çÁü•ÈÅìÊªûÂêéÈ°πÁöÑ‰∏™Êï∞ÔºåÂõ†Ê≠§ÂèØ‰ª•Áî®ËæÉÂ§öÁöÑÊªûÂêéÈáèÊù•ÊãüÂêàËøô‰∏™Ê®°ÂûãÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">82</span>]: MAXLAGS <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">83</span>]: model <span style="color:#000;font-weight:bold">=</span> sm<span style="color:#000;font-weight:bold">.</span>tsa<span style="color:#000;font-weight:bold">.</span>AR(values)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">84</span>]: results <span style="color:#000;font-weight:bold">=</span> model<span style="color:#000;font-weight:bold">.</span>fit(MAXLAGS)
</span></span></code></pre></div><p>ÁªìÊûú‰∏≠ÁöÑ‰º∞ËÆ°ÂèÇÊï∞È¶ñÂÖàÊòØÊà™Ë∑ùÔºåÂÖ∂Ê¨°ÊòØÂâç‰∏§‰∏™ÂèÇÊï∞ÁöÑ‰º∞ËÆ°ÂÄºÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">85</span>]: results<span style="color:#000;font-weight:bold">.</span>params
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">85</span>]: array([<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.0062</span>,  <span style="color:#099">0.7845</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.4085</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0.0136</span>,  <span style="color:#099">0.015</span> ,  <span style="color:#099">0.0143</span>])
</span></span></code></pre></div><p>Êõ¥Â§öÁöÑÁªÜËäÇ‰ª•ÂèäÂ¶Ç‰ΩïËß£ÈáäÁªìÊûúË∂ÖÂá∫‰∫ÜÊú¨‰π¶ÁöÑËåÉÂõ¥ÔºåÂèØ‰ª•ÈÄöËøástatsmodelsÊñáÊ°£Â≠¶‰π†Êõ¥Â§ö„ÄÇ</p>
<h2 id="134-scikit-learn‰ªãÁªç">13.4 scikit-learn‰ªãÁªç</h2>
<p>scikit-learnÊòØ‰∏Ä‰∏™ÂπøÊ≥õ‰ΩøÁî®„ÄÅÁî®ÈÄîÂ§öÊ†∑ÁöÑPythonÊú∫Âô®Â≠¶‰π†Â∫ì„ÄÇÂÆÉÂåÖÂê´Â§öÁßçÊ†áÂáÜÁõëÁù£ÂíåÈùûÁõëÁù£Êú∫Âô®Â≠¶‰π†ÊñπÊ≥ïÂíåÊ®°ÂûãÈÄâÊã©ÂíåËØÑ‰º∞„ÄÅÊï∞ÊçÆËΩ¨Êç¢„ÄÅÊï∞ÊçÆÂä†ËΩΩÂíåÊ®°ÂûãÊåÅ‰πÖÂåñÂ∑•ÂÖ∑„ÄÇËøô‰∫õÊ®°ÂûãÂèØ‰ª•Áî®‰∫éÂàÜÁ±ª„ÄÅËÅöÂêà„ÄÅÈ¢ÑÊµãÂíåÂÖ∂ÂÆÉ‰ªªÂä°„ÄÇ</p>
<p>Êú∫Âô®Â≠¶‰π†ÊñπÈù¢ÁöÑÂ≠¶‰π†ÂíåÂ∫îÁî®scikit-learnÂíåTensorFlowËß£ÂÜ≥ÂÆûÈôÖÈóÆÈ¢òÁöÑÁ∫ø‰∏äÂíåÁ∫∏Ë¥®ËµÑÊñôÂæàÂ§ö„ÄÇÊú¨ËäÇ‰∏≠ÔºåÊàë‰ºöÁÆÄË¶Å‰ªãÁªçscikit-learn APIÁöÑÈ£éÊ†º„ÄÇ</p>
<p>ÂÜô‰ΩúÊ≠§‰π¶ÁöÑÊó∂ÂÄôÔºåscikit-learnÂπ∂Ê≤°ÊúâÂíåpandasÊ∑±Â∫¶ÁªìÂêàÔºå‰ΩÜÊòØÊúâ‰∫õÁ¨¨‰∏âÊñπÂåÖÂú®ÂºÄÂèë‰∏≠„ÄÇÂ∞ΩÁÆ°Â¶ÇÊ≠§ÔºåpandasÈùûÂ∏∏ÈÄÇÂêàÂú®Ê®°ÂûãÊãüÂêàÂâçÂ§ÑÁêÜÊï∞ÊçÆÈõÜ„ÄÇ</p>
<p>‰∏æ‰∏™‰æãÂ≠êÔºåÊàëÁî®‰∏Ä‰∏™KaggleÁ´ûËµõÁöÑÁªèÂÖ∏Êï∞ÊçÆÈõÜÔºåÂÖ≥‰∫éÊ≥∞Âù¶Â∞ºÂÖãÂè∑‰πòÂÆ¢ÁöÑÁîüËøòÁéá„ÄÇÊàë‰ª¨Áî®pandasÂä†ËΩΩÊµãËØïÂíåËÆ≠ÁªÉÊï∞ÊçÆÈõÜÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">86</span>]: train <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>read_csv(<span style="color:#d14">&#39;datasets/titanic/train.csv&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">87</span>]: test <span style="color:#000;font-weight:bold">=</span> pd<span style="color:#000;font-weight:bold">.</span>read_csv(<span style="color:#d14">&#39;datasets/titanic/test.csv&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">88</span>]: train[:<span style="color:#099">4</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">88</span>]: 
</span></span><span style="display:flex;"><span>   PassengerId  Survived  Pclass  \
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>            <span style="color:#099">1</span>         <span style="color:#099">0</span>       <span style="color:#099">3</span>   
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>            <span style="color:#099">2</span>         <span style="color:#099">1</span>       <span style="color:#099">1</span>   
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>            <span style="color:#099">3</span>         <span style="color:#099">1</span>       <span style="color:#099">3</span>   
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>            <span style="color:#099">4</span>         <span style="color:#099">1</span>       <span style="color:#099">1</span>   
</span></span><span style="display:flex;"><span>                                                Name     Sex   Age  SibSp  \
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>                            Braund, Mr<span style="color:#000;font-weight:bold">.</span> Owen Harris    male  <span style="color:#099">22.0</span>      <span style="color:#099">1</span>   
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>  Cumings, Mrs<span style="color:#000;font-weight:bold">.</span> John Bradley (Florence Briggs Th<span style="color:#000;font-weight:bold">...</span>  female  <span style="color:#099">38.0</span>      <span style="color:#099">1</span>   
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>                             Heikkinen, Miss<span style="color:#000;font-weight:bold">.</span> Laina  female  <span style="color:#099">26.0</span>      <span style="color:#099">0</span>   
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>       Futrelle, Mrs<span style="color:#000;font-weight:bold">.</span> Jacques Heath (Lily May Peel)  female  <span style="color:#099">35.0</span>      <span style="color:#099">1</span>   
</span></span><span style="display:flex;"><span>   Parch            Ticket     Fare Cabin Embarked  
</span></span><span style="display:flex;"><span><span style="color:#099">0</span>      <span style="color:#099">0</span>         A<span style="color:#000;font-weight:bold">/</span><span style="color:#099">5</span> <span style="color:#099">21171</span>   <span style="color:#099">7.2500</span>   NaN        S  
</span></span><span style="display:flex;"><span><span style="color:#099">1</span>      <span style="color:#099">0</span>          PC <span style="color:#099">17599</span>  <span style="color:#099">71.2833</span>   C85        C  
</span></span><span style="display:flex;"><span><span style="color:#099">2</span>      <span style="color:#099">0</span>  STON<span style="color:#000;font-weight:bold">/</span>O2<span style="color:#000;font-weight:bold">.</span> <span style="color:#099">3101282</span>   <span style="color:#099">7.9250</span>   NaN        S  
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>      <span style="color:#099">0</span>            <span style="color:#099">113803</span>  <span style="color:#099">53.1000</span>  C123        S
</span></span></code></pre></div><p>statsmodelsÂíåscikit-learnÈÄöÂ∏∏‰∏çËÉΩÊé•Êî∂Áº∫Â§±Êï∞ÊçÆÔºåÂõ†Ê≠§Êàë‰ª¨Ë¶ÅÊü•ÁúãÂàóÊòØÂê¶ÂåÖÂê´Áº∫Â§±ÂÄºÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">89</span>]: train<span style="color:#000;font-weight:bold">.</span>isnull()<span style="color:#000;font-weight:bold">.</span>sum()
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">89</span>]: 
</span></span><span style="display:flex;"><span>PassengerId      <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Survived         <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Pclass           <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Name             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Sex              <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Age            <span style="color:#099">177</span>
</span></span><span style="display:flex;"><span>SibSp            <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Parch            <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Ticket           <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Fare             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Cabin          <span style="color:#099">687</span>
</span></span><span style="display:flex;"><span>Embarked         <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>dtype: int64
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">90</span>]: test<span style="color:#000;font-weight:bold">.</span>isnull()<span style="color:#000;font-weight:bold">.</span>sum()
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">90</span>]: 
</span></span><span style="display:flex;"><span>PassengerId      <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Pclass           <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Name             <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Sex              <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Age             <span style="color:#099">86</span>
</span></span><span style="display:flex;"><span>SibSp            <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Parch            <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Ticket           <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>Fare             <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>Cabin          <span style="color:#099">327</span>
</span></span><span style="display:flex;"><span>Embarked         <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dtype: int64
</span></span></code></pre></div><p>Âú®ÁªüËÆ°ÂíåÊú∫Âô®Â≠¶‰π†ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊ†πÊçÆÊï∞ÊçÆ‰∏≠ÁöÑÁâπÂæÅÔºå‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑ‰ªªÂä°ÊòØÈ¢ÑÊµã‰πòÂÆ¢ËÉΩÂê¶ÁîüËøò„ÄÇÊ®°ÂûãÁé∞Âú®ËÆ≠ÁªÉÊï∞ÊçÆÈõÜ‰∏≠ÊãüÂêàÔºåÁÑ∂ÂêéÁî®Ê†∑Êú¨Â§ñÊµãËØïÊï∞ÊçÆÈõÜËØÑ‰º∞„ÄÇ</p>
<p>ÊàëÊÉ≥Áî®Âπ¥ÈæÑ‰Ωú‰∏∫È¢ÑÊµãÂÄºÔºå‰ΩÜÊòØÂÆÉÂåÖÂê´Áº∫Â§±ÂÄº„ÄÇÁº∫Â§±Êï∞ÊçÆË°•ÂÖ®ÁöÑÊñπÊ≥ïÊúâÂ§öÁßçÔºåÊàëÁî®ÁöÑÊòØ‰∏ÄÁßçÁÆÄÂçïÊñπÊ≥ïÔºåÁî®ËÆ≠ÁªÉÊï∞ÊçÆÈõÜÁöÑ‰∏≠‰ΩçÊï∞Ë°•ÂÖ®‰∏§‰∏™Ë°®ÁöÑÁ©∫ÂÄºÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">91</span>]: impute_value <span style="color:#000;font-weight:bold">=</span> train[<span style="color:#d14">&#39;Age&#39;</span>]<span style="color:#000;font-weight:bold">.</span>median()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">92</span>]: train[<span style="color:#d14">&#39;Age&#39;</span>] <span style="color:#000;font-weight:bold">=</span> train[<span style="color:#d14">&#39;Age&#39;</span>]<span style="color:#000;font-weight:bold">.</span>fillna(impute_value)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">93</span>]: test[<span style="color:#d14">&#39;Age&#39;</span>] <span style="color:#000;font-weight:bold">=</span> test[<span style="color:#d14">&#39;Age&#39;</span>]<span style="color:#000;font-weight:bold">.</span>fillna(impute_value)
</span></span></code></pre></div><p>Áé∞Âú®Êàë‰ª¨ÈúÄË¶ÅÊåáÂÆöÊ®°Âûã„ÄÇÊàëÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™ÂàóIsFemaleÔºå‰Ωú‰∏∫‚ÄúSex‚ÄùÂàóÁöÑÁºñÁ†ÅÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">94</span>]: train[<span style="color:#d14">&#39;IsFemale&#39;</span>] <span style="color:#000;font-weight:bold">=</span> (train[<span style="color:#d14">&#39;Sex&#39;</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;female&#39;</span>)<span style="color:#000;font-weight:bold">.</span>astype(<span style="color:#0086b3">int</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">95</span>]: test[<span style="color:#d14">&#39;IsFemale&#39;</span>] <span style="color:#000;font-weight:bold">=</span> (test[<span style="color:#d14">&#39;Sex&#39;</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;female&#39;</span>)<span style="color:#000;font-weight:bold">.</span>astype(<span style="color:#0086b3">int</span>)
</span></span></code></pre></div><p>ÁÑ∂ÂêéÔºåÊàë‰ª¨Á°ÆÂÆö‰∏Ä‰∫õÊ®°ÂûãÂèòÈáèÔºåÂπ∂ÂàõÂª∫NumPyÊï∞ÁªÑÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">96</span>]: predictors <span style="color:#000;font-weight:bold">=</span> [<span style="color:#d14">&#39;Pclass&#39;</span>, <span style="color:#d14">&#39;IsFemale&#39;</span>, <span style="color:#d14">&#39;Age&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">97</span>]: X_train <span style="color:#000;font-weight:bold">=</span> train[predictors]<span style="color:#000;font-weight:bold">.</span>values
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">98</span>]: X_test <span style="color:#000;font-weight:bold">=</span> test[predictors]<span style="color:#000;font-weight:bold">.</span>values
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">99</span>]: y_train <span style="color:#000;font-weight:bold">=</span> train[<span style="color:#d14">&#39;Survived&#39;</span>]<span style="color:#000;font-weight:bold">.</span>values
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">100</span>]: X_train[:<span style="color:#099">5</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">100</span>]: 
</span></span><span style="display:flex;"><span>array([[  <span style="color:#099">3.</span>,   <span style="color:#099">0.</span>,  <span style="color:#099">22.</span>],
</span></span><span style="display:flex;"><span>       [  <span style="color:#099">1.</span>,   <span style="color:#099">1.</span>,  <span style="color:#099">38.</span>],
</span></span><span style="display:flex;"><span>       [  <span style="color:#099">3.</span>,   <span style="color:#099">1.</span>,  <span style="color:#099">26.</span>],
</span></span><span style="display:flex;"><span>       [  <span style="color:#099">1.</span>,   <span style="color:#099">1.</span>,  <span style="color:#099">35.</span>],
</span></span><span style="display:flex;"><span>       [  <span style="color:#099">3.</span>,   <span style="color:#099">0.</span>,  <span style="color:#099">35.</span>]])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">101</span>]: y_train[:<span style="color:#099">5</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">101</span>]: array([<span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">1</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>])
</span></span></code></pre></div><p>Êàë‰∏çËÉΩ‰øùËØÅËøôÊòØ‰∏Ä‰∏™Â•ΩÊ®°ÂûãÔºå‰ΩÜÂÆÉÁöÑÁâπÂæÅÈÉΩÁ¨¶Âêà„ÄÇÊàë‰ª¨Áî®scikit-learnÁöÑLogisticRegressionÊ®°ÂûãÔºåÂàõÂª∫‰∏Ä‰∏™Ê®°ÂûãÂÆû‰æãÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">102</span>]: <span style="color:#000;font-weight:bold">from</span> <span style="color:#555">sklearn.linear_model</span> <span style="color:#000;font-weight:bold">import</span> LogisticRegression
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">103</span>]: model <span style="color:#000;font-weight:bold">=</span> LogisticRegression()
</span></span></code></pre></div><p>‰∏éstatsmodelsÁ±ª‰ººÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Ê®°ÂûãÁöÑfitÊñπÊ≥ïÔºåÂ∞ÜÂÆÉÊãüÂêàÂà∞ËÆ≠ÁªÉÊï∞ÊçÆÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">104</span>]: model<span style="color:#000;font-weight:bold">.</span>fit(X_train, y_train)
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">104</span>]: 
</span></span><span style="display:flex;"><span>LogisticRegression(C<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1.0</span>, class_weight<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">None</span>, dual<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">False</span>, fit_intercept<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">True</span>,
</span></span><span style="display:flex;"><span>          intercept_scaling<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>, max_iter<span style="color:#000;font-weight:bold">=</span><span style="color:#099">100</span>, multi_class<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;ovr&#39;</span>, n_jobs<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>          penalty<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;l2&#39;</span>, random_state<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">None</span>, solver<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;liblinear&#39;</span>, tol<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0.0001</span>,
</span></span><span style="display:flex;"><span>          verbose<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>, warm_start<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">False</span>)
</span></span></code></pre></div><p>Áé∞Âú®ÔºåÊàë‰ª¨ÂèØ‰ª•Áî®model.predictÔºåÂØπÊµãËØïÊï∞ÊçÆËøõË°åÈ¢ÑÊµãÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">105</span>]: y_predict <span style="color:#000;font-weight:bold">=</span> model<span style="color:#000;font-weight:bold">.</span>predict(X_test)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">106</span>]: y_predict[:<span style="color:#099">10</span>]
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">106</span>]: array([<span style="color:#099">0</span>, <span style="color:#099">0</span>, <span style="color:#099">0</span>, <span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>])
</span></span></code></pre></div><p>Â¶ÇÊûú‰Ω†ÊúâÊµãËØïÊï∞ÊçÆÈõÜÁöÑÁúüÊòØÂÄºÔºå‰Ω†ÂèØ‰ª•ËÆ°ÁÆóÂáÜÁ°ÆÁéáÊàñÂÖ∂ÂÆÉÈîôËØØÂ∫¶ÈáèÂÄºÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(y_true <span style="color:#000;font-weight:bold">==</span> y_predict)<span style="color:#000;font-weight:bold">.</span>mean()
</span></span></code></pre></div><p>Âú®ÂÆûÈôÖ‰∏≠ÔºåÊ®°ÂûãËÆ≠ÁªÉÁªèÂ∏∏ÊúâËÆ∏Â§öÈ¢ùÂ§ñÁöÑÂ§çÊùÇÂõ†Á¥†„ÄÇËÆ∏Â§öÊ®°ÂûãÊúâÂèØ‰ª•Ë∞ÉËäÇÁöÑÂèÇÊï∞ÔºåÊúâ‰∫õÊñπÊ≥ïÔºàÊØîÂ¶Ç‰∫§ÂèâÈ™åËØÅÔºâÂèØ‰ª•Áî®Êù•ËøõË°åÂèÇÊï∞Ë∞ÉËäÇÔºåÈÅøÂÖçÂØπËÆ≠ÁªÉÊï∞ÊçÆËøáÊãüÂêà„ÄÇËøôÈÄöÂ∏∏ÂèØ‰ª•ÊèêÈ´òÈ¢ÑÊµãÊÄßÊàñÂØπÊñ∞Êï∞ÊçÆÁöÑÂÅ•Â£ÆÊÄß„ÄÇ</p>
<p>‰∫§ÂèâÈ™åËØÅÈÄöËøáÂàÜÂâ≤ËÆ≠ÁªÉÊï∞ÊçÆÊù•Ê®°ÊãüÊ†∑Êú¨Â§ñÈ¢ÑÊµã„ÄÇÂü∫‰∫éÊ®°ÂûãÁöÑÁ≤æÂ∫¶ÂæóÂàÜÔºàÊØîÂ¶ÇÂùáÊñπÂ∑ÆÔºâÔºåÂèØ‰ª•ÂØπÊ®°ÂûãÂèÇÊï∞ËøõË°åÁΩëÊ†ºÊêúÁ¥¢„ÄÇÊúâ‰∫õÊ®°ÂûãÔºåÂ¶ÇlogisticÂõûÂΩíÔºåÊúâÂÜÖÁΩÆÁöÑ‰∫§ÂèâÈ™åËØÅÁöÑ‰º∞ËÆ°Á±ª„ÄÇ‰æãÂ¶ÇÔºålogisticregressioncvÁ±ªÂèØ‰ª•Áî®‰∏Ä‰∏™ÂèÇÊï∞ÊåáÂÆöÁΩëÊ†ºÊêúÁ¥¢ÂØπÊ®°ÂûãÁöÑÊ≠£ÂàôÂåñÂèÇÊï∞CÁöÑÁ≤íÂ∫¶Ôºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">107</span>]: <span style="color:#000;font-weight:bold">from</span> <span style="color:#555">sklearn.linear_model</span> <span style="color:#000;font-weight:bold">import</span> LogisticRegressionCV
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">108</span>]: model_cv <span style="color:#000;font-weight:bold">=</span> LogisticRegressionCV(<span style="color:#099">10</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">109</span>]: model_cv<span style="color:#000;font-weight:bold">.</span>fit(X_train, y_train)
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">109</span>]: 
</span></span><span style="display:flex;"><span>LogisticRegressionCV(Cs<span style="color:#000;font-weight:bold">=</span><span style="color:#099">10</span>, class_weight<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">None</span>, cv<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">None</span>, dual<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">False</span>,
</span></span><span style="display:flex;"><span>           fit_intercept<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">True</span>, intercept_scaling<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1.0</span>, max_iter<span style="color:#000;font-weight:bold">=</span><span style="color:#099">100</span>,
</span></span><span style="display:flex;"><span>           multi_class<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;ovr&#39;</span>, n_jobs<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>, penalty<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;l2&#39;</span>, random_state<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">None</span>,
</span></span><span style="display:flex;"><span>           refit<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">True</span>, scoring<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">None</span>, solver<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;lbfgs&#39;</span>, tol<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0.0001</span>, verbose<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>)
</span></span></code></pre></div><p>Ë¶ÅÊâãÂä®ËøõË°å‰∫§ÂèâÈ™åËØÅÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®cross_val_scoreÂ∏ÆÂä©ÂáΩÊï∞ÔºåÂÆÉÂèØ‰ª•Â§ÑÁêÜÊï∞ÊçÆÂàÜÂâ≤„ÄÇ‰æãÂ¶ÇÔºåË¶Å‰∫§ÂèâÈ™åËØÅÊàë‰ª¨ÁöÑÂ∏¶ÊúâÂõõ‰∏™‰∏çÈáçÂè†ËÆ≠ÁªÉÊï∞ÊçÆÁöÑÊ®°ÂûãÔºåÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#099">110</span>]: <span style="color:#000;font-weight:bold">from</span> <span style="color:#555">sklearn.model_selection</span> <span style="color:#000;font-weight:bold">import</span> cross_val_score
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">111</span>]: model <span style="color:#000;font-weight:bold">=</span> LogisticRegression(C<span style="color:#000;font-weight:bold">=</span><span style="color:#099">10</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">112</span>]: scores <span style="color:#000;font-weight:bold">=</span> cross_val_score(model, X_train, y_train, cv<span style="color:#000;font-weight:bold">=</span><span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#099">113</span>]: scores
</span></span><span style="display:flex;"><span>Out[<span style="color:#099">113</span>]: array([ <span style="color:#099">0.7723</span>,  <span style="color:#099">0.8027</span>,  <span style="color:#099">0.7703</span>,  <span style="color:#099">0.7883</span>])
</span></span></code></pre></div><p>ÈªòËÆ§ÁöÑËØÑÂàÜÊåáÊ†áÂèñÂÜ≥‰∫éÊ®°ÂûãÊú¨Ë∫´Ôºå‰ΩÜÊòØÂèØ‰ª•ÊòéÁ°ÆÊåáÂÆö‰∏Ä‰∏™ËØÑÂàÜ„ÄÇ‰∫§ÂèâÈ™åËØÅËøáÁöÑÊ®°ÂûãÈúÄË¶ÅÊõ¥ÈïøÊó∂Èó¥Êù•ËÆ≠ÁªÉÔºå‰ΩÜ‰ºöÊúâÊõ¥È´òÁöÑÊ®°ÂûãÊÄßËÉΩ„ÄÇ</p>
<h2 id="135-ÁªßÁª≠Â≠¶‰π†">13.5 ÁªßÁª≠Â≠¶‰π†</h2>
<p>ÊàëÂè™ÊòØ‰ªãÁªç‰∫Ü‰∏Ä‰∫õPythonÂª∫Ê®°Â∫ìÁöÑË°®Èù¢ÂÜÖÂÆπÔºåÁé∞Âú®ÊúâË∂äÊù•Ë∂äÂ§öÁöÑÊ°ÜÊû∂Áî®‰∫éÂêÑÁßçÁªüËÆ°ÂíåÊú∫Âô®Â≠¶‰π†ÔºåÂÆÉ‰ª¨ÈÉΩÊòØÁî®PythonÊàñPythonÁî®Êà∑ÁïåÈù¢ÂÆûÁé∞ÁöÑ„ÄÇ</p>
<p>ËøôÊú¨‰π¶ÁöÑÈáçÁÇπÊòØÊï∞ÊçÆËßÑÊï¥ÔºåÊúâÂÖ∂ÂÆÉÁöÑ‰π¶ÊòØÂÖ≥Ê≥®Âª∫Ê®°ÂíåÊï∞ÊçÆÁßëÂ≠¶Â∑•ÂÖ∑ÁöÑ„ÄÇÂÖ∂‰∏≠‰ºòÁßÄÁöÑÊúâÔºö</p>
<ul>
<li>Andreas Mueller and Sarah Guido (O‚ÄôReilly)ÁöÑ „ÄäIntroduction to Machine Learning with Python„Äã</li>
<li>Jake VanderPlas (O‚ÄôReilly)ÁöÑ „ÄäPython Data Science Handbook„Äã</li>
<li>Joel Grus (O‚ÄôReilly) ÁöÑ „ÄäData Science from Scratch: First Principles„Äã</li>
<li>Sebastian Raschka (Packt Publishing) ÁöÑ„ÄäPython Machine Learning„Äã</li>
<li>Aur√©lien G√©ron (O‚ÄôReilly) ÁöÑ„ÄäHands-On Machine Learning with Scikit-Learn and TensorFlow„Äã</li>
</ul>
<p>ËôΩÁÑ∂‰π¶ÊòØÂ≠¶‰π†ÁöÑÂ•ΩËµÑÊ∫êÔºå‰ΩÜÊòØÈöèÁùÄÂ∫ïÂ±ÇÂºÄÊ∫êËΩØ‰ª∂ÁöÑÂèëÂ±ïÔºå‰π¶ÁöÑÂÜÖÂÆπ‰ºöËøáÊó∂„ÄÇÊúÄÂ•ΩÊòØ‰∏çÊñ≠ÁÜüÊÇâÂêÑÁßçÁªüËÆ°ÂíåÊú∫Âô®Â≠¶‰π†Ê°ÜÊû∂ÁöÑÊñáÊ°£ÔºåÂ≠¶‰π†ÊúÄÊñ∞ÁöÑÂäüËÉΩÂíåAPI„ÄÇ</p>

    </div>

    

    

    <div class="container-prevnext">
    <div><a href="https://richfan.site/posts/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch11-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/">‚Üê Á¨¨ÂçÅ‰∏ÄÁ´† Êó∂Èó¥Â∫èÂàó</a></div>
    <div><a href="https://richfan.site/posts/%E7%A8%8B%E6%8A%80/python/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ch12-pandas%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/">Á¨¨ÂçÅ‰∫åÁ´† Pandas È´òÁ∫ßÂ∫îÁî®  ‚Üí</a></div>
</div>
    
    

    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="//beian.miit.gov.cn" target="_blank">
        
        ‰∫¨ICPÂ§á2022007001Âè∑
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
    
</div></div>
    </body>
</html>
